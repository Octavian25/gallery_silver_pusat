{"version":3,"sources":["pages/Member/LihatTransaksiMember/HeadTransaksiMember.jsx","pages/Member/LihatTransaksiMember/LihatTransaksiMember.jsx"],"names":["HeadTransaksiMember","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","kondisi_barang","isLoadingBatal","setState","tgl_awal","tgl_akhir","dispatch","GetDataGroup","getMasterToko","change","setTimeout","document","getElementById","focus","_this2","datagroup","value","name","forEach","element","row","kode_group","push","datatoko","kode_toko","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","className","Field","onChange","e","getKodeMember","target","id","component","ReanderField","type","label","placeholder","readOnly","Fragment","style","point","fontSize","position","left","top","InputDate","selected","setStartDate","setLastDate","normalize","Gramasi","ReanderSelect","options","isLoading","onClick","batalLihatTransaksi","tabel","keyField","exportCsv","data","datatransaksimember","columns","empty","textEmpty","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","initialValues","dari_tanggal","getTglSystem","sampai_tanggal","datamaster","datakondisi","getDataKondisiBarang","setHancurBarang","databarang","LihatTransaksiMember","dataField","text","headerStyle","colum","colIndex","width","textAlign","formatter","cell","parseFloat","toFixed","headerClasses","toLocaleString","bind","assertThisInitialized","reset","_this3","delayTimer","clearTimeout","undefined","getData","then","res","item","index","nama_customer","alamat_customer","no_hp","catch","err","ToastNotification","_this4","data_post","kode_member","kategori","kode_lokasi_gudang","toko","berat_awal","berat_akhir","formatDate","moment","format","type_pencarian","postData","length","export","localStorageencryp","JSON","stringify","error","getDataNoTimeOut","concat","_this5","react_router_dom","to","panel","LihatTransaksiMember_HeadTransaksiMember","React"],"mappings":"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","file":"static/js/116.678e98f9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  InputDate,\r\n  ReanderField,\r\n  ReanderSelect,\r\n} from \"../../../components/helpers/field\";\r\nimport { getTglSystem } from \"../../../components/helpers/function\";\r\nimport Tabel from \"../../../components/helpers/tabel\";\r\nimport Loading from \"react-fullscreen-loading\";\r\nimport {\r\n  GetDataGroup,\r\n  getMasterToko,\r\n} from \"../../../actions/datamaster_action\";\r\nimport { Gramasi } from \"../../../Validasi/normalize\";\r\n// import { getData } from \"../../../config/axios\";\r\nconst maptostate = (state) => {\r\n  return {\r\n    initialValues: {\r\n      dari_tanggal: getTglSystem(),\r\n      sampai_tanggal: getTglSystem(),\r\n    },\r\n    getMasterToko: state.datamaster.getMasterToko,\r\n    GetDataGroup: state.datamaster.GetDataGroup,\r\n    datakondisi: state.datamaster.getDataKondisiBarang,\r\n    setHancurBarang: state.databarang.setHancurBarang,\r\n  };\r\n};\r\nclass HeadTransaksiMember extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      date: new Date(),\r\n      kondisi_barang: \"kosong\",\r\n      isLoadingBatal: false,\r\n    };\r\n  }\r\n  setStartDate(date) {\r\n    this.setState({\r\n      tgl_awal: new Date(date),\r\n    });\r\n  }\r\n  setLastDate(date) {\r\n    this.setState({\r\n      tgl_akhir: new Date(date),\r\n    });\r\n  }\r\n  componentDidMount() {\r\n    this.props.dispatch(GetDataGroup());\r\n    this.props.dispatch(getMasterToko());\r\n    this.props.change(\"type_pencarian\", \"BARU\");\r\n    setTimeout(() => {\r\n      document.getElementById(\"kode_member\").focus();\r\n    }, 100);\r\n    this.props.change(\"kategori\", \"ALL\");\r\n    this.props.change(\"toko\", \"ALL\");\r\n  }\r\n\r\n  render() {\r\n    let datagroup = [\r\n      {\r\n        value: \"ALL\",\r\n        name: \"SEMUA\",\r\n      },\r\n    ];\r\n    this.props.GetDataGroup.forEach((element) => {\r\n      let row = {\r\n        value: element.kode_group,\r\n        name: element.kode_group,\r\n      };\r\n      datagroup.push(row);\r\n    });\r\n\r\n    let datatoko = [\r\n      {\r\n        value: \"ALL\",\r\n        name: \"SEMUA\",\r\n      },\r\n    ];\r\n    this.props.getMasterToko.forEach((element) => {\r\n      let row = {\r\n        value: element.kode_toko,\r\n        name: element.kode_toko,\r\n      };\r\n      datatoko.push(row);\r\n    });\r\n    return (\r\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  onChange={(e) => this.props.getKodeMember(e.target.value)}\r\n                  id=\"kode_member\"\r\n                  name=\"kode_member\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Kode Member\"\r\n                  placeholder=\"Masukan Kode Member\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_nama_member\"\r\n                  name=\"nama_member\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Nama Member\"\r\n                  placeholder=\"Masukan Nama Member\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            <> &nbsp; </>\r\n            <h1\r\n              style={\r\n                this.props.point === \"POINT\"\r\n                  ? {\r\n                      fontSize: \"4.875rem\",\r\n                      position: \"absolute\",\r\n                      left: \"90px\",\r\n                      top: \"100px\",\r\n                    }\r\n                  : {\r\n                      fontSize: \"4.875rem\",\r\n                      position: \"absolute\",\r\n                      left: \"150px\",\r\n                      top: \"100px\",\r\n                    }\r\n              }\r\n            >\r\n              {\" \"}\r\n              {this.props.point}{\" \"}\r\n            </h1>\r\n          </div>\r\n          <div className=\"col-8\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_alamat\"\r\n                  name=\"alamat\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"Alamat\"\r\n                  placeholder=\"Masukan Alamat\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  id=\"lihat_transaksi_no_hp\"\r\n                  name=\"no_hp\"\r\n                  readOnly={true}\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  label=\"No Hp\"\r\n                  placeholder=\"Masukan No Hp\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  name=\"dari_tanggal\"\r\n                  component={InputDate}\r\n                  type=\"text\"\r\n                  selected={this.state.tgl_awal}\r\n                  onChange={(date) => this.setStartDate(date)}\r\n                  label=\"Dari Tanggal\"\r\n                  placeholder=\"Masukan Dari Tanggal\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  name=\"sampai_tanggal\"\r\n                  component={InputDate}\r\n                  type=\"text\"\r\n                  selected={this.state.tgl_akhir}\r\n                  onChange={(date) => this.setLastDate(date)}\r\n                  label=\"Sampai Tanggal\"\r\n                  placeholder=\"Masukan Sampai Tanggal\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  name=\"berat_awal\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  normalize={Gramasi}\r\n                  label=\"Berat Awal\"\r\n                  placeholder=\"Masukan Berat Awal\"\r\n                />\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <Field\r\n                  name=\"berat_akhir\"\r\n                  component={ReanderField}\r\n                  type=\"text\"\r\n                  normalize={Gramasi}\r\n                  label=\"Berat Akhir\"\r\n                  placeholder=\"Masukan Berat Akhir\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-4 text-center\">\r\n            {/* <Field\r\n              name=\"point\"\r\n              readOnly={true}\r\n              component={ReanderField}\r\n              type=\"text\"\r\n              placeholder=\"Point Saya\"\r\n            /> */}\r\n          </div>\r\n          <div className=\"col-lg-2\">\r\n            <Field\r\n              name=\"kategori\"\r\n              component={ReanderSelect}\r\n              type=\"text\"\r\n              options={[\r\n                {\r\n                  name : \"SEMUA\",\r\n                  value : \"ALL\",\r\n                },\r\n                {\r\n                  name : \"PENJUALAN\",\r\n                  value : \"PENJUALAN\",\r\n                },\r\n                {\r\n                  name : \"PEMBELIAN UMUM\",\r\n                  value : \"PEMBELIAN UMUM\",\r\n                },\r\n                {\r\n                  name : \"PESANAN\",\r\n                  value : \"PESANAN\",\r\n                },\r\n                {\r\n                  name : \"PESANAN SERAH\",\r\n                  value : \"PESANAN SERAH\",\r\n                },\r\n                {\r\n                  name : \"PESANAN TAMBAH\",\r\n                  value : \"PESANAN TAMBAH\",\r\n                },\r\n                {\r\n                  name : \"PINJAMAN\",\r\n                  value : \"PINJAMAN\",\r\n                },\r\n                {\r\n                  name : \"PINJAMAN LUNAS\",\r\n                  value : \"PINJAMAN LUNAS\",\r\n                },\r\n                {\r\n                  name : \"SERVICE\",\r\n                  value : \"SERVICE\",\r\n                },\r\n                {\r\n                  name : \"SERVICE AMBIL\",\r\n                  value : \"SERVICE AMBIL\",\r\n                },\r\n                {\r\n                  name : \"TUKAR POINT\",\r\n                  value : \"TUKAR POINT\",\r\n                },\r\n                {\r\n                  name : \"TAMBAH POIN MANUAL\",\r\n                  value : \"TAMBAH POIN MANUAL\",\r\n                },\r\n                {\r\n                  name : \"AMBIL POIN MANUAL\",\r\n                  value : \"AMBIL POIN MANUAL\",\r\n                }\r\n              ]}\r\n              label=\"Kategori\"\r\n              placeholder=\"Masukan Kategori\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-2\">\r\n            <Field\r\n              name=\"toko\"\r\n              component={ReanderSelect}\r\n              type=\"text\"\r\n              options={datatoko}\r\n              label=\"Toko\"\r\n              placeholder=\"Masukan Toko\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <Field\r\n              name=\"type_pencarian\"\r\n              component={ReanderSelect}\r\n              type=\"text\"\r\n              options={[\r\n                {\r\n                  name: \"LAMA\",\r\n                  value: \"LAMA\",\r\n                },\r\n                {\r\n                  name: \"BARU\",\r\n                  value: \"BARU\",\r\n                },\r\n              ]}\r\n              label=\"Pilih Transaksi\"\r\n              placeholder=\"Pilih Transaksi\"\r\n            />\r\n          </div>\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"submit\"\r\n                  value=\"PDF\"\r\n                  name=\"type_btn\"\r\n                  className=\"btn btn-primary btn-block\"\r\n                >\r\n                  {this.props.isLoading ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Lihat\r\n                    </>\r\n                  ) : (\r\n                    \"Lihat\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n              <div className=\"col-lg-6\">\r\n                <label>&nbsp;</label>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={this.props.batalLihatTransaksi}\r\n                  className=\"btn btn-warning btn-block\"\r\n                >\r\n                  {this.props.isLoadingBatal ? (\r\n                    <>\r\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\r\n                    </>\r\n                  ) : (\r\n                    \"Batal\"\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-12\">\r\n            <Tabel\r\n              keyField=\"no_trx\"\r\n              exportCsv={true}\r\n              data={this.props.datatransaksimember}\r\n              columns={this.props.columns}\r\n              empty={true}\r\n              textEmpty=\"Data Transaksi Member Kosong\"\r\n            />\r\n          </div>\r\n        </div>\r\n        {this.props.isLoadingBatal || this.props.isLoading ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nHeadTransaksiMember = reduxForm({\r\n  form: \"HeadTransaksiMember\",\r\n  enableReinitialize: true,\r\n})(HeadTransaksiMember);\r\nexport default connect(maptostate, null)(HeadTransaksiMember);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\r\nimport HeadTransaksiMember from \"./HeadTransaksiMember.jsx\";\r\nimport {\r\n  formatDate,\r\n  localStorageencryp,\r\n} from \"../../../components/helpers/function.jsx\";\r\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\r\nimport * as moment from \"moment-timezone\";\r\nimport { getData, getDataNoTimeOut, postData } from \"../../../config/axios.jsx\";\r\nimport { reduxForm, reset } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport Loading from \"react-fullscreen-loading\";\r\n\r\nclass LihatTransaksiMember extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      isLoadingBatal: false,\r\n      point: \"POINT\",\r\n      datatransaksimember: [],\r\n      columns: [\r\n        // {\r\n        //   dataField: \"no_trx\",\r\n        //   text: \"No Trx\",\r\n        // },\r\n        {\r\n          dataField: \"tgl_trx\",\r\n          text: \"Tanggal Trx\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px'};\r\n          },\r\n        },\r\n        {\r\n          dataField: \"kategori\",\r\n          text: \"Kategori\",\r\n        },\r\n        // {\r\n        //   dataField: \"kode_group\",\r\n        //   text: \"Kategori\",\r\n        //   headerStyle: (colum, colIndex) => {\r\n        //     return { width: '100px'};\r\n        //   },\r\n        // },\r\n        {\r\n          dataField: \"deskripsi\",\r\n          text: \"Deskripsi\",\r\n        },\r\n        {\r\n          dataField: \"berat\",\r\n          text: \"Berat\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px', textAlign: 'right' };\r\n          },\r\n          formatter: (cell) => {\r\n            return (\r\n              <div className=\"text-right\">\r\n                {parseFloat(cell || 0).toFixed(3)}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"jumlah_rp\",\r\n          text: \"Jumlah Rp\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px', textAlign: 'right' };\r\n          },\r\n          headerClasses: \"text-right\",\r\n          formatter: (cell) => {\r\n            return (\r\n              <div className=\"text-right\">\r\n                {parseFloat(cell || 0).toLocaleString(\"kr-KO\")}\r\n              </div>\r\n            );\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin_awal\",\r\n          text: \"Poin Awal\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px', textAlign: 'right' };\r\n          },\r\n          formatter: (value, row) => {\r\n            return <div className=\"text-right\"> {value || 0} </div>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin\",\r\n          text: \"Poin\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px', textAlign: 'right' };\r\n          },\r\n          formatter: (value, row) => {\r\n            return <div className=\"text-right\"> {value || 0} </div>;\r\n          },\r\n        },\r\n        {\r\n          dataField: \"poin_akhir\",\r\n          text: \"Poin Akhir\",\r\n          headerStyle: (colum, colIndex) => {\r\n            return { width: '100px', textAlign: 'right' };\r\n          },\r\n          formatter: (value, row) => {\r\n            return <div className=\"text-right\"> {value || 0} </div>;\r\n          },\r\n        },\r\n      ],\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  batalLihatTransaksi() {\r\n    this.setState({\r\n      isLoadingBatal: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        isLoadingBatal: false,\r\n        datatransaksimember: [],\r\n      });\r\n      this.props.dispatch(reset(\"HeadTransaksiMember\"));\r\n    }, 1000);\r\n  }\r\n  getKodeMember(e) {\r\n    if(this.delayTimer){\r\n      clearTimeout(this.delayTimer);\r\n    }\r\n    this.delayTimer = setTimeout(() => {\r\n      if (e === undefined) {\r\n        return false;\r\n      }\r\n      this.setState({\r\n        isLoading: true,\r\n      });\r\n      getData(\"member/get/by-kode-member/\" + e)\r\n        .then((res) => {\r\n          // console.log(res.data)\r\n          this.setState({\r\n            isLoading: false,\r\n          });\r\n          res.data.forEach((item, index) => {\r\n            document.getElementById(\"lihat_transaksi_nama_member\").value =\r\n              item.nama_customer;\r\n            document.getElementById(\"lihat_transaksi_alamat\").value =\r\n              item.alamat_customer;\r\n            document.getElementById(\"lihat_transaksi_no_hp\").value = item.no_hp;\r\n            // this.props.change(\"point\", item.point);\r\n            this.setState({\r\n              datatransaksimember: [],\r\n              point: item.point || 0,\r\n              isLoading: false,\r\n            });\r\n          });\r\n          // console.log(res.data);\r\n        })\r\n        .catch((err) => {\r\n          ToastNotification(\"info\", \"Data member tidak ada\");\r\n          this.setState({\r\n            datatransaksimember: [],\r\n            isLoading: false,\r\n          });\r\n        });\r\n    }, 1500);\r\n  }\r\n  handleSubmit(data) {\r\n    //   console.log(data);\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n    let data_post = {\r\n      kode_member: data.kode_member,\r\n      kode_group: data.kategori,\r\n      kode_lokasi_gudang: data.toko,\r\n      berat_awal: parseFloat(data.berat_awal || 0),\r\n      berat_akhir: parseFloat(data.berat_akhir || 0),\r\n      tgl_awal: formatDate(\r\n        moment(new Date(data.dari_tanggal)).format(\"YYYY-MM-DD\")\r\n      ),\r\n      tgl_akhir: formatDate(\r\n        moment(new Date(data.sampai_tanggal)).format(\"YYYY-MM-DD\")\r\n      ),\r\n    };\r\n    if (data.type_pencarian === \"BARU\") {\r\n      postData(\"trxmember/get/by-tanggal\", data_post)\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n            this.setState({\r\n              isLoading: false,\r\n              export: false,\r\n            });\r\n          } else {\r\n            ToastNotification(\"success\", \"Laporan Transaksi Member Tersedia\");\r\n            localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n            this.setState({\r\n              export: true,\r\n              isLoading: false,\r\n              datatransaksimember: res.data,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        });\r\n    } else {\r\n      getDataNoTimeOut(\r\n        `trxmember/reports/data-lama?tgl_from=${data_post.tgl_awal}&tgl_to=${data_post.tgl_akhir}&kode_member=${data_post.kode_member}&kode_group=${data_post.kode_group}&kode_lokasi_gudang=${data_post.kode_lokasi_gudang}&berat_awal=${data_post.berat_awal}&berat_akhir=${data_post.berat_akhir}`\r\n      )\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n            this.setState({\r\n              isLoading: false,\r\n              export: false,\r\n              datatransaksimember: []\r\n            });\r\n          } else {\r\n            ToastNotification(\"success\", \"Laporan Transaksi Member Tersedia\");\r\n            localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n            this.setState({\r\n              datatransaksimember: []\r\n            });\r\n            this.setState({\r\n              export: true,\r\n              isLoading: false,\r\n              datatransaksimember: res.data,\r\n            });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n            datatransaksimember: []\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Member</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">Lihat Transaksi Member</li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Lihat Transaksi Member </h1>\r\n        <Panel>\r\n          <PanelHeader>Lihat Transaksi Member</PanelHeader>\r\n          <br />\r\n          {/* Lihat Transaksi Member */}\r\n          <div className=\"container\">\r\n            <HeadTransaksiMember\r\n              getKodeMember={(e) => this.getKodeMember(e)}\r\n              batalLihatTransaksi={() => this.batalLihatTransaksi()}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n              columns={this.state.columns}\r\n              isLoading={this.state.isLoading}\r\n              point={this.state.point}\r\n              isLoadingBatal={this.state.isLoadingBatal}\r\n              datatransaksimember={this.state.datatransaksimember}\r\n            />\r\n            <br />\r\n          </div>\r\n          <br />\r\n          {/* End Tambah Lihat Transaksi Member  */}\r\n        </Panel>\r\n        {this.state.isLoadingBatal || this.state.isLoading ? (\r\n          <Loading\r\n            loading\r\n            background=\"rgba(0, 0, 0, 0.35)\"\r\n            loaderColor=\"rgba(94, 147, 117, 1)\"\r\n          />\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLihatTransaksiMember = reduxForm({\r\n  form: \"LihatTransaksiMember\",\r\n  enableReinitialize: true,\r\n  // validate: ValidasiDataUsers,\r\n})(LihatTransaksiMember);\r\nexport default connect(null)(LihatTransaksiMember);\r\n"],"sourceRoot":""}