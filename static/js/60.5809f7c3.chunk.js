(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1279:function(t,a,e){"use strict";e.r(a);var n=e(8),i=e(9),o=e(15),s=e(11),c=e(10),u=e(1),r=e.n(u),d=e(33),l=e(76),m=e(7),k=e(31),b=e(28),p=e.n(b),h=e(29),g=e(46),f=e(19),E=e(5),T=e(60),O=e(320),j=e(321),_=e(22),v=function(t,a){var e={};return t.kode_tukang||(e.kode_tukang="Kode Tukang Tidak Boleh Kosong"),t.nama_tukang||(e.nama_tukang="Nama Tukang Tidak Boleh Kosong"),e},y=e(66),M=e.n(y),S=function(t){Object(s.a)(e,t);var a=Object(c.a)(e);function e(){var t;Object(n.a)(this,e);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=a.call.apply(a,[this].concat(o))).state={aktif:!1},t}return Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this;setTimeout(function(){t.props.isEdit?document.getElementById("nama_tukang").focus():document.getElementById("kode_tukang").focus()},100)}},{key:"render",value:function(){var t=this;return r.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(t){"Enter"===t.key&&t.preventDefault()}},r.a.createElement(O.a,{tabIndex:"1",id:"_id",name:"_id",component:_.b,type:"hidden"}),r.a.createElement(O.a,{tabIndex:"1",id:"kode_tukang",name:"kode_tukang",component:_.e,type:"text",label:"Kode Tukang",placeholder:"Masukan Kode Tukang",readOnly:this.props.isEdit}),r.a.createElement(O.a,{tabIndex:"2",id:"nama_tukang",name:"nama_tukang",component:_.e,type:"text",label:"Nama Tukang",onBlur:function(){return t.setState({aktif:!0})},placeholder:"Masukan Nama Tukang"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-right"},r.a.createElement("button",{className:"btn btn-white",onClick:function(){return t.props.dispatch(Object(m.Mb)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",r.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?r.a.createElement(M.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),e}(u.Component);S=Object(j.a)({form:"ModalTukang",enableReinitialize:!0,validate:v})(S);var D=Object(k.b)(function(t){if(null!==t.datamaster.ShowModalTukang)return{initialValues:{_id:t.datamaster.ShowModalTukang._id,kode_tukang:t.datamaster.ShowModalTukang.kode_sales,nama_tukang:t.datamaster.ShowModalTukang.nama_tukang}}},null)(S),w=e(224),N=function(t,a,e){p.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Tukang "+t+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(n){n.isConfirmed&&Object(f.b)("tukang/delete/by-kode-tukang/"+a,{data:{kode_tukang:t}}).then(function(){Object(h.d)("Data Berhasil Di Hapus").then(function(){return e(Object(m.Bb)())})}).catch(function(t){Object(h.e)("error",t.response.data)})})},x=function(t){Object(s.a)(e,t);var a=Object(c.a)(e);function e(t){var i;return Object(n.a)(this,e),(i=a.call(this,t)).state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kode_tukang",text:"Kode Tukang",sort:!0},{dataField:"nama_tukang",text:"Nama Tukang"},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(t,a){var e={_id:a._id,kode_sales:a.kode_tukang,nama_tukang:a.nama_tukang};return r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("button",{onClick:function(){return i.formEditTukang(e)},className:"btn btn-primary mr-3"},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("button",{onClick:function(){return N(a.kode_tukang,a._id,i.props.dispatch)},className:"btn btn-danger"},r.a.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(m.Bb)())}},{key:"handleSubmit",value:function(t){var a=this;this.setState({isLoading:!0});var e={nama_tukang:t.nama_tukang},n={kode_tukang:t.kode_tukang,nama_tukang:t.nama_tukang};this.state.isEdit?Object(f.k)("tukang/edit/by-kode-tukang/"+t._id,e).then(function(){a.props.dispatch(Object(m.Mb)())}).then(function(){Object(h.e)("success","Data Berhasil Diedit")}).then(function(){a.props.dispatch(Object(m.Bb)())}).then(function(){a.setState({isLoading:!1})}).then(function(){a.props.dispatch(Object(g.d)("ModalTukang"))}).catch(function(t){Object(h.e)("info","Terjadi Kesalahan Saat Mengirim Data"),a.setState({isLoading:!1})}):Object(f.g)("tukang/add",n).then(function(){a.props.dispatch(Object(m.Mb)())}).then(function(){Object(h.e)("success","Data Berhasil Simpan")}).then(function(){a.props.dispatch(Object(m.Bb)())}).then(function(){a.props.dispatch(Object(g.d)("ModalTukang"))}).then(function(){a.setState({isLoading:!1})}).catch(function(t){return Object(E.a)(t,"tukang/reactive/by-kode-tukang/",n,a.props.dispatch,Object(m.Bb)(),Object(m.Mb)(),"ModalTukang").then(function(){a.setState({isLoading:!1})})})}},{key:"formEditTukang",value:function(t){this.props.dispatch(Object(m.Rb)()),this.props.dispatch(Object(m.pb)(t)),this.setState({isEdit:!0})}},{key:"ShowModalTukang",value:function(){this.props.dispatch(Object(m.Rb)()),this.props.dispatch(Object(m.pb)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement("ol",{className:"breadcrumb float-xl-right"},r.a.createElement("li",{className:"breadcrumb-item"},r.a.createElement(d.b,{to:"#"},"Data Master")),r.a.createElement("li",{className:"breadcrumb-item active"},"Master Tukang")),r.a.createElement("h1",{className:"page-header"},"Master Tukang "),r.a.createElement(l.a,null,r.a.createElement(l.c,null,"Master Tukang"),r.a.createElement("br",null),r.a.createElement("div",{className:"container"},r.a.createElement(T.a,{keyField:"kode_tukang",tambahData:!0,handleClick:function(){return t.ShowModalTukang()},exportCsv:!0,data:this.props.DataTukang,columns:this.state.columns,empty:this.props.DataTukang,textEmpty:"Data Tukang Kosong"})),r.a.createElement("br",null),r.a.createElement(w.a,{size:"P",title:this.state.isEdit?"Edit Data Tukang":"Tambah Data Tukang",content:r.a.createElement(D,{isLoading:this.state.isLoading,isEdit:this.state.isEdit,onSubmit:function(a){return t.handleSubmit(a)}})})))}}]),e}(r.a.Component);a.default=Object(k.b)(function(t){return{DataTukang:t.datamaster.getDataTukang,hideModal:t.datamaster.modalDialog}},null)(x)}}]);
//# sourceMappingURL=60.5809f7c3.chunk.js.map