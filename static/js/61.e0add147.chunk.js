(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{1280:function(e,t,a){"use strict";a.r(t);var n=a(8),i=a(9),o=a(15),s=a(11),r=a(10),c=a(1),d=a.n(c),l=a(32),b=a(63),p=a(7),m=a(30),u=a(27),h=a.n(u),g=a(25),f=a(18),k=a(43),O=a(5),j=a(54),E=a(320),K=a(321),v=a(21),P=function(e,t){var a={};return e.kondisi_barang||(a.kondisi_barang="kondisi Tidak Boleh Kosong"),e.persentase||(a.persentase="Presentase Tidak Boleh Kosong"),a},S=a(67),M=a.n(S),_=a(100),y=Object(_.createNumberMask)({prefix:"Rp. ",locale:"kr-KO"}),D=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(){var e;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={aktif:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.props.isEdit,document.getElementById("kondisi_barang").focus()},100)}},{key:"render",value:function(){var e=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement("input",{type:"hidden",name:"kondisi_barang_lama"}),this.props.isEdit?d.a.createElement(d.a.Fragment,null,d.a.createElement(E.a,{name:"id",component:v.b,type:"hidden",readOnly:this.props.isEdit})):null,d.a.createElement(E.a,{tabIndex:"1",id:"kondisi_barang",name:"kondisi_barang",component:v.e,type:"text",label:" Kondisi Pembelian",placeholder:"Masukan  Kondisi Pembelian"}),d.a.createElement(E.a,Object.assign({tabIndex:"2",id:"potongan_harga",name:"potongan_harga",component:v.e,type:"text"},y,{label:"Potongan Harga",onBlur:function(){return e.setState({aktif:!0})},placeholder:"Masukan Potongan Harga"})),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 text-right"},d.a.createElement("button",{className:"btn btn-white",onClick:function(){return e.props.dispatch(Object(p.Qb)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",d.a.createElement("button",{tabIndex:"3",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?d.a.createElement(M.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),a}(c.Component);D=Object(K.a)({form:"ModalKondisiPembelian",enableReinitialize:!0,validate:P})(D);var w=Object(m.b)(function(e){if(null!==e.datamaster.ShowModalKondisiPembelian)return{initialValues:{id:e.datamaster.ShowModalKondisiPembelian.id,kondisi_barang_lama:e.datamaster.ShowModalKondisiPembelian.kondisi_barang,kondisi_barang:e.datamaster.ShowModalKondisiPembelian.kondisi_barang,potongan_harga:e.datamaster.ShowModalKondisiPembelian.potongan_harga}}},null)(D),x=a(139),L=function(e,t,a){h.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Kondisi Pembelian "+e.kondisi_barang+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(n){n.isConfirmed&&(a.map(function(t){return Object(f.c)(t.portal+"/api/v1/parabeli/delete/by-kode-kondisi/"+e._id).then(function(){Object(g.d)("Data Berhasil Di Hapus")}),!0}),Object(f.b)("parabeli/delete/by-kode-kondisi/"+e._id).then(function(){Object(g.d)("Data Berhasil Di Hapus").then(function(){return t(Object(p.Fb)())})}))}).catch(function(e){Object(g.e)("error",e.response.data)})},N=function(e){Object(s.a)(a,e);var t=Object(r.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={isEdit:!1,isLoading:!1,modalDialog:!1,columns:[{dataField:"kondisi_barang",text:"Kode Kondisi Pembelian",sort:!0},{dataField:"potongan",text:"Potongan Harga",formatter:function(e){return void 0===e?0:e.toLocaleString("kr-KO")}},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(e,t){var a={id:t._id,kondisi_barang:t.kondisi_barang,potongan_harga:t.potongan};return d.a.createElement("div",{className:"row text-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("button",{onClick:function(){return i.formEditKondisiPembelian(a)},className:"btn btn-primary mr-3"},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{onClick:function(){return L(t,i.props.dispatch,i.props.getMasterToko)},className:"btn btn-danger"},d.a.createElement("i",{className:"fa fa-trash"}))))}}]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(p.Fb)()),this.props.dispatch(Object(p.Kb)())}},{key:"handleSubmit",value:function(e){var t=this;this.setState({isLoading:!0});var a={kondisi_barang:e.kondisi_barang,potongan:e.potongan_harga,persentase:1},n={kondisi_barang:e.kondisi_barang,potongan:e.potongan_harga||0,persentase:1},i=this.props.getMasterToko;this.state.isEdit?(i.map(function(e){return Object(f.q)(e.portal+"/api/v1/parabeli/edit/by-kode-kondisi/"+e.id,a).then(function(){t.props.dispatch(Object(p.Qb)())}).then(function(){Object(g.e)("success","Data Berhasil Diedit")}).then(function(){t.props.dispatch(Object(p.Fb)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(k.d)("ModalKondisiPembelian"))}).catch(function(e){t.setState({isLoading:!1}),Object(g.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data)}),!0}),Object(f.m)("parabeli/edit/by-kode-kondisi/"+e.id,a).then(function(){t.props.dispatch(Object(p.Qb)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(k.d)("ModalKondisiPembelian"))}).catch(function(e){t.setState({isLoading:!1}),Object(g.e)("info",void 0===e.response?"Terjadi Kesalahan Saat Megirim Data ":e.response.data)})):(i.map(function(e){return Object(f.l)(e.portal+"/api/v1/parabeli/add",n).then(function(){t.props.dispatch(Object(p.Qb)())}).then(function(){t.props.dispatch(Object(k.d)("ModalKondisiPembelian"))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return Object(O.a)(e,"parabeli/reactive/by-kode-kondisi/",n,t.props.dispatch,Object(p.Fb)(),Object(p.Qb)(),"ModalKondisiPembelian").then(function(){t.setState({isLoading:!1})})}),!0}),Object(f.h)("parabeli/add",n).then(function(){t.props.dispatch(Object(p.Qb)())}).then(function(){Object(g.e)("success","Data Berhasil Disimpan")}).then(function(){t.props.dispatch(Object(p.Fb)())}).then(function(){t.props.dispatch(Object(k.d)("ModalKondisiPembelian"))}).then(function(){t.setState({isLoading:!1})}).catch(function(e){return Object(O.a)(e,"parabeli/reactive/by-kode-kondisi/",n,t.props.dispatch,Object(p.Fb)(),Object(p.Qb)(),"ModalKondisiPembelian").then(function(){t.setState({isLoading:!1})})}))}},{key:"formEditKondisiPembelian",value:function(e){this.props.dispatch(Object(p.Vb)()),this.props.dispatch(Object(p.lb)(e)),this.setState({isEdit:!0})}},{key:"ShowModalKondisiPembelian",value:function(){this.props.dispatch(Object(p.Vb)()),this.props.dispatch(Object(p.lb)(!1)),this.setState({isEdit:!1})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement("ol",{className:"breadcrumb float-xl-right"},d.a.createElement("li",{className:"breadcrumb-item"},d.a.createElement(l.b,{to:"#"},"Data Master")),d.a.createElement("li",{className:"breadcrumb-item active"},"Master Kondisi Pembelian")),d.a.createElement("h1",{className:"page-header"},"Master Kondisi Pembelian "),d.a.createElement(b.a,null,d.a.createElement(b.c,null,"Master Kondisi Pembelian"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement(j.a,{keyField:"kondisi_barang",tambahData:!0,handleClick:function(){return e.ShowModalKondisiPembelian()},exportCsv:!0,data:this.props.DataKondisiPembelian,columns:this.state.columns,empty:this.props.DataKondisiPembelian,textEmpty:"Data Kondisi Pembelian Kosong"})),d.a.createElement("br",null),d.a.createElement(x.a,{size:"P",title:this.state.isEdit?"Edit Data Kondisi Pembelian":"Tambah Data Kondisi Pembelian",content:d.a.createElement(w,{isEdit:this.state.isEdit,isLoading:this.state.isLoading,onSubmit:function(t){return e.handleSubmit(t)}})})))}}]),a}(d.a.Component);t.default=Object(m.b)(function(e){return{DataKondisiPembelian:e.datamaster.getKondisiPembelian,hideModal:e.datamaster.modalDialog,getMasterToko:e.datamaster.getMasterToko}},null)(N)}}]);
//# sourceMappingURL=61.e0add147.chunk.js.map