(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1277:function(a,t,e){"use strict";e.r(t);var n=e(8),s=e(9),i=e(15),r=e(11),o=e(10),c=e(1),d=e.n(c),l=e(32),p=e(63),u=e(7),b=e(30),h=e(27),m=e.n(h),k=e(25),f=e(18),j=e(43),g=e(5),O=e(54),E=e(139),T=e(320),v=e(321),K=e(21),S=function(a,t){var e={};return a.kode_transaksi||(e.kode_transaksi="Kode Transaksi Tidak Boleh Kosong"),e},y=e(67),M=e.n(y),_=function(a){Object(r.a)(e,a);var t=Object(o.a)(e);function e(){var a;Object(n.a)(this,e);for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];return(a=t.call.apply(t,[this].concat(i))).state={aktif:!1},a}return Object(s.a)(e,[{key:"componentDidMount",value:function(){setTimeout(function(){document.getElementById("kode_transaksi").focus()},100)}},{key:"render",value:function(){var a=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()}},this.props.isEdit?d.a.createElement(d.a.Fragment,null,d.a.createElement(T.a,{name:"id",component:K.b,type:"hidden",readOnly:this.props.isEdit})):null,d.a.createElement("input",{type:"hidden",name:"kode_transaksi_lama"}),d.a.createElement(T.a,{tabIndex:"1",id:"kode_transaksi",name:"kode_transaksi",component:K.e,type:"text",label:"Kode Transaksi",placeholder:"Masukan Kode Transaksi",onBlur:function(){return a.setState({aktif:!0})}}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12 text-right"},d.a.createElement("button",{className:"btn btn-white",onClick:function(){return a.props.dispatch(Object(u.Qb)())},type:"button",disabled:this.props.isLoading},"Batal"),"\xa0",d.a.createElement("button",{tabIndex:"2",className:this.state.aktif?"btn btn-primary":"btn btn-white",disabled:this.props.submitting,type:"submit"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?d.a.createElement(M.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),e}(c.Component);_=Object(v.a)({form:"ModalKodeTrransaksi",enableReinitialize:!0,validate:S})(_);var D=Object(b.b)(function(a){if(null!==a.datamaster.ShowModalKodeTransaksi)return{initialValues:{id:a.datamaster.ShowModalKodeTransaksi.id,kode_transaksi:a.datamaster.ShowModalKodeTransaksi.kode_transaksi,kode_transaksi_lama:a.datamaster.ShowModalKodeTransaksi.kode_transaksi}}},null)(_),w=function(a,t,e){m.a.fire({html:"Apakah Anda Yakin Ingin Menghapus <h1><b>Kode Transaksi "+a.kode_transaksi+"</b> ?</h1>",icon:"warning",position:"top-center",cancelButtonText:"Tidak",showCancelButton:!0,confirmButtonText:"OK",showConfirmButton:!0}).then(function(n){n.isConfirmed&&(e.map(function(t){return Object(f.c)(t.portal+"/api/v1/paratransaksi/delete/by-kode-transaksi/"+a._id).catch(function(a){Object(k.e)("error",a.response.data)}),!0}),Object(f.b)("paratransaksi/delete/by-kode-transaksi/"+a._id).then(function(){Object(k.d)("Data Berhasil Di Hapus").then(function(){return t(Object(u.Pb)())})}).catch(function(a){Object(k.e)("error",a.response.data)}))})},L=function(a){Object(r.a)(e,a);var t=Object(o.a)(e);function e(a){var s;return Object(n.a)(this,e),(s=t.call(this,a)).state={isEdit:!1,modalDialog:!1,isLoading:!1,columns:[{dataField:"kode_transaksi",text:"Kode Transaksi ",sort:!0},{dataField:"action",text:"Action",csvExport:!1,headerClasses:"text-center",formatter:function(a,t){var e={id:t._id,kode_transaksi:t.kode_transaksi};return d.a.createElement("div",{className:"row text-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("button",{onClick:function(){return s.FormEditKodeTransaksi(e)},className:"btn btn-primary mr-3"},d.a.createElement("i",{className:"fa fa-edit"})),d.a.createElement("button",{onClick:function(){return w(t,s.props.dispatch,s.props.getMasterToko)},className:"btn btn-danger"},d.a.createElement("i",{className:"fa fa-trash"}))))}}],dataKodeTransaksi:[{kode_transaksi:"Uang Makan"}]},s.handleSubmit=s.handleSubmit.bind(Object(i.a)(s)),s}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(u.Pb)()),this.props.dispatch(Object(u.Kb)())}},{key:"handleSubmit",value:function(a){var t=this;this.setState({isLoading:!0});var e={kode_transaksi:a.kode_transaksi},n={id:a.id,kode_transaksi:a.kode_transaksi},s=this.props.getMasterToko;this.state.isEdit?(s.map(function(a){return Object(f.q)(a.portal+"/api/v1/paratransaksi/edit/by-kode-transaksi/"+a.id,e).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(u.Qb)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.props.dispatch(Object(j.d)("ModalKodeTrransaksi"))}).catch(function(a){Object(k.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),t.setState({isLoading:!1})}),!0}),Object(f.m)("paratransaksi/edit/by-kode-transaksi/"+a.id,e).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(u.Qb)())}).then(function(){return Object(k.e)("success","Data Berhasil Diedit")}).then(function(){t.props.dispatch(Object(u.Pb)())}).then(function(){t.setState({isLoading:!1})}).then(function(){t.props.dispatch(Object(j.d)("ModalKodeTrransaksi"))}).catch(function(a){Object(k.e)("info",void 0===a.response?"Terjadi Kesalahan Saat Megirim Data ":a.response.data),t.setState({isLoading:!1})})):(s.map(function(a){return console.log(a.portal),Object(f.l)(a.portal+"/api/v1/paratransaksi/add",n).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(u.Qb)())}).then(function(){t.props.dispatch(Object(j.d)("ModalKodeTrransaksi"))}).then(function(){t.setState({isLoading:!1})}).catch(function(a){var t;Object(k.e)("error",null!==(t=a.response.data)&&void 0!==t?t:"Error")}),!0}),Object(f.h)("paratransaksi/add",n).then(function(){t.setState({isLoading:!1}),t.props.dispatch(Object(u.Qb)())}).then(function(){Object(k.e)("success","Data Berhasil Disimpan")}).then(function(){t.props.dispatch(Object(u.Pb)())}).then(function(){t.props.dispatch(Object(j.d)("ModalKodeTrransaksi"))}).then(function(){t.setState({isLoading:!1})}).catch(function(a){return Object(g.a)(a,"paratransaksi/reactive/by-kode-transaksi/",n,t.props.dispatch,Object(u.Pb)(),Object(u.Qb)(),"ModalKodeTrransaksi").then(function(){t.setState({isLoading:!1})})}))}},{key:"FormEditKodeTransaksi",value:function(a){this.props.dispatch(Object(u.Vb)()),this.props.dispatch(Object(u.jb)(a)),this.setState({isEdit:!0})}},{key:"showModalKodeTranaksi",value:function(){this.props.dispatch(Object(u.Vb)()),this.props.dispatch(Object(u.jb)(!1)),this.setState({isEdit:!1,isLoading:!1})}},{key:"render",value:function(){var a=this;return d.a.createElement("div",null,d.a.createElement("ol",{className:"breadcrumb float-xl-right"},d.a.createElement("li",{className:"breadcrumb-item"},d.a.createElement(l.b,{to:"#"},"Data Master")),d.a.createElement("li",{className:"breadcrumb-item active"},"Master Kode Transaksi")),d.a.createElement("h1",{className:"page-header"},"Master Kode Transaksi "),d.a.createElement(p.a,null,d.a.createElement(p.c,null,"Master Kode Transaksi"),d.a.createElement("br",null),d.a.createElement("div",{className:"container"},d.a.createElement(O.a,{keyField:"kode_transaksi",tambahData:!0,handleClick:function(){return a.showModalKodeTranaksi()},exportCsv:!0,data:this.props.DataTransaksi,columns:this.state.columns,empty:this.props.DataTransaksi,textEmpty:"Data Jenis Kosong"})),d.a.createElement("br",null),d.a.createElement(E.a,{title:this.state.isEdit?"Edit Data Kode Transaksi":"Tambah Data Kode Transaksi",size:"P",content:d.a.createElement(D,{isLoading:this.state.isLoading,onSubmit:function(t){return a.handleSubmit(t)}})})))}}]),e}(d.a.Component);t.default=Object(b.b)(function(a){return{DataTransaksi:a.datamaster.getParamterTransaksi,hideModal:a.datamaster.modalDialog,getMasterToko:a.datamaster.getMasterToko}},null)(L)}}]);
//# sourceMappingURL=56.938eb110.chunk.js.map