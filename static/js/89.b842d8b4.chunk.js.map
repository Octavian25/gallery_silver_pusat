{"version":3,"sources":["pages/Laporan/LaporanPembelian/LaporanPembelianBarangHistory/FormLaporanPembelianBarangHistory.jsx"],"names":["HeadFormLaporanPembelianBarangHistory","lazy","__webpack_require__","e","then","bind","FormLaporanPembelianBarangHistory","props","_this","Object","_Users_nagatech_WebstormProjects_gallery_silver_pusat_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","state","isLoading","LaporanTransaksiPembelian","export","handleSubmit","_Users_nagatech_WebstormProjects_gallery_silver_pusat_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","data","JSON","parse","localStoragedecryp","setState","username","user_id","dispatch","getDataSales","_this2","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","getData","concat","res","length","ToastNotification","localStorageencryp","stringify","catch","error","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","_components_panel_panel__WEBPACK_IMPORTED_MODULE_9__","dataSales","onSubmit","Component","connect","datamaster"],"mappings":"4NAaMA,EAAwCC,eAAK,kBACjDC,EAAAC,EAAA,IAAAC,KAAAF,EAAAG,KAAA,cAIIC,oDACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXC,WAAW,EACXC,0BAA2B,GAC3BC,QAAQ,GAEVT,EAAKU,aAAeV,EAAKU,aAAab,KAAlBI,OAAAU,EAAA,EAAAV,CAAAD,IAPHA,kEAUjB,IAAIY,EAAOC,KAAKC,MAAMC,YAAmB,aACzCZ,KAAKa,SAAS,CAAEC,SAAUL,EAAKM,UAC/Bf,KAAKJ,MAAMoB,SAASC,qDAETR,GAAM,IAAAS,EAAAlB,KACjBA,KAAKa,SAAS,CAAET,WAAW,IACzB,IAAIe,EAAY,CACdC,SAAUC,YAAWC,EAAO,IAAIC,KAAKd,EAAKW,WAAWI,OAAO,eAC5DC,UAAWJ,YAAWC,EAAO,IAAIC,KAAKd,EAAKgB,YAAYD,OAAO,gBAEhEE,YAAO,yCAAAC,OAA0CR,EAAUC,SAApD,kBAAAO,OAA6ER,EAAUM,YAC7FhC,KAAK,SAACmC,GACmB,IAApBA,EAAInB,KAAKoB,QACXC,YAAkB,OAAQ,mCAC1BZ,EAAKL,SAAS,CACZT,WAAW,EACXE,QAAQ,MAGVwB,YAAkB,UAAW,wCAC7BC,YAAmB,cAAerB,KAAKsB,UAAUb,IACjDD,EAAKL,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA2BuB,EAAInB,UAIpCwB,MAAM,SAACC,GACNJ,YAAkB,OAAQ,mCAC1BZ,EAAKL,SAAS,CACZT,WAAW,EACXE,QAAQ,uCAMP,IAAA6B,EAAAnC,KACP,OACEoC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,6BACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACZH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAG,KAAT,YAEFL,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAAd,wCAIFH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,wCACAH,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACEN,EAAAC,EAAAC,cAACI,EAAA,EAAD,4CACAN,EAAAC,EAAAC,cAACI,EAAA,EAAD,KAEEN,EAAAC,EAAAC,cAACjD,EAAD,CACEiB,OAAQN,KAAKG,MAAMG,OACnBF,UAAWJ,KAAKG,MAAMC,UACtBuC,UAAW3C,KAAKJ,MAAM+C,UACtBtC,0BAA2BL,KAAKG,MAAME,0BACtCuC,SAAU,SAACnC,GAAD,OAAU0B,EAAK5B,aAAaE,gBAtEJoC,aA8EjCC,sBAAQ,SAAC3C,GACtB,MAAO,CACLwC,UAAYxC,EAAM4C,WAAW9B,eAFlB6B,CAIZnD","file":"static/js/89.b842d8b4.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { formatDate, localStoragedecryp, localStorageencryp } from \"../../../../components/helpers/function\";\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\nimport {\n  Panel,\n  PanelBody,\n  PanelHeader,\n} from \"../../../../components/panel/panel\";\nimport { getData } from \"../../../../config/axios\";\nimport * as moment from \"moment-timezone\";\nimport { getDataSales } from \"../../../../actions/datamaster_action\";\nimport { connect } from \"react-redux\";\nconst HeadFormLaporanPembelianBarangHistory = lazy(() =>\n  import(\"./HeadFormLaporanPembelianBarangHistory\")\n);\n\n\nclass FormLaporanPembelianBarangHistory extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      LaporanTransaksiPembelian: [],\n      export: false,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount() {\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\n    this.setState({ username: data.user_id });\n    this.props.dispatch(getDataSales())\n  }\n  handleSubmit(data) {\n    this.setState({ isLoading: true });\n      let data_post = {\n        tgl_awal: formatDate(moment(new Date(data.tgl_awal)).format('YYYY-MM-DD')),\n        tgl_akhir: formatDate(moment(new Date(data.tgl_akhir)).format('YYYY-MM-DD')),\n      };\n      getData(`pembelian/report-selisih?tanggal[gte]=${data_post.tgl_awal}&tanggal[lte]=${data_post.tgl_akhir}`)\n      .then((res) => {\n        if (res.data.length === 0) {\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n          this.setState({\n            isLoading: false,\n            export: false,\n          });\n        } else {\n          ToastNotification(\"success\", \"Laporan Transaksi Pembelian Tersedia\");\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\n          this.setState({\n            export: true,\n            isLoading: false,\n            LaporanTransaksiPembelian: res.data,\n          });\n        }\n      })\n      .catch((error) => {\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n        this.setState({\n          isLoading: false,\n          export: false,\n        });\n      });\n    \n  }\n\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Laporan</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">\n            Laporan History Transaksi Pembelian\n          </li>\n        </ol>\n        <h1 className=\"page-header\">Laporan History Transaksi Pembelian </h1>\n        <Panel>\n          <PanelHeader>Laporan History Transaksi Pembelian</PanelHeader>\n          <PanelBody>\n            {/* {console.log(this.state.hidden)} */}\n            <HeadFormLaporanPembelianBarangHistory\n              export={this.state.export}\n              isLoading={this.state.isLoading}\n              dataSales={this.props.dataSales}\n              LaporanTransaksiPembelian={this.state.LaporanTransaksiPembelian}\n              onSubmit={(data) => this.handleSubmit(data)}\n            />\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\nexport default connect((state) => {\n  return {\n    dataSales : state.datamaster.getDataSales\n  }\n})(FormLaporanPembelianBarangHistory);\n"],"sourceRoot":""}