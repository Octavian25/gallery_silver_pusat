{"version":3,"sources":["pages/Penjualan/BatalTitipan/HeadBatalTitipan.jsx","pages/Penjualan/BatalTitipan/index.jsx"],"names":["HeadBatalTitipan","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","setStartDate","bind","assertThisInitialized","setLastDate","data","setState","tgl_awal","tgl_akhir","_this2","library","createElement","onSubmit","handleSubmit","onKeyPress","e","key","preventDefault","autoComplete","className","name","component","InputDate","label","type","selected","onChange","placeholder","value","isLoading","Fragment","loading_default","a","loading","background","loaderColor","React","Component","reduxForm","form","enableReinitialize","connect","initialValues","getTglSystem","BatalTitipan","batal","datatitipan","databaki","columns","dataField","text","footerAttrs","colSpan","footer","formatter","rowcontent","row","index","parseInt","total_dp","toLocaleString","columnData","reduce","acc","item","cell","csvExport","headerClasses","disabled","status_titipan","data-tooltip","onClick","showPilihBaki","no_titip_group","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","then","result","isConfirmed","tanggal","getItem","putData2","kode_toko","kode_baki","res","ToastNotification","dispatch","hideModal","getData2","hasil","filter","kode_barcode","nama_barang","kode_customer","nama_customer","nama_atribut","no_hp","alamat_customer","berat_atribut","harga_atribut","ongkos","harga_total","findIndex","x","push","catch","error","test","response","message","showModal","_this3","getData","_this4","length","data_post","formatDate","moment","format","setItem","err","undefined","_this5","expandRow","renderer","toFixed","showExpandColumn","expandByColumnOnly","to","BatalTitipan_HeadBatalTitipan","keyField","exportCsv","empty","textEmpty","size","content","ReanderSelect","options","list","map","batalTitipan"],"mappings":"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","file":"static/js/118.9714d810.chunk.js","sourcesContent":["import { React, connect, reduxForm, InputDate, Field, getTglSystem } from \"../../../components/helpers/library\";\nimport Loading from 'react-fullscreen-loading';\n\nclass HeadBatalTitipan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date(),\n    };\n    this.setStartDate = this.setStartDate.bind(this);\n    this.setLastDate = this.setLastDate.bind(this);\n  }\n\n  handleSubmit(data) {}\n  setStartDate(date) {\n    this.setState({\n      tgl_awal: new Date(date),\n    });\n  }\n  setLastDate(date) {\n    this.setState({\n      tgl_akhir: new Date(date),\n    });\n  }\n  render() {\n    return (\n      <div>\n        <form\n          onSubmit={this.props.handleSubmit}\n          onKeyPress={(e) => {\n            e.key === \"Enter\" && e.preventDefault();\n          }}\n          autoComplete=\"off\"\n        >\n          <div className=\"row\">\n            <div className=\"col-lg-4\">\n              <Field\n                name=\"tgl_awal\"\n                component={InputDate}\n                label=\"Tanggal Dari\"\n                type=\"text\"\n                selected={this.state.tgl_awal}\n                onChange={(date) => this.setStartDate(date)}\n                placeholder=\"Masukan Tanggal Dari\"\n              />\n            </div>\n\n            <div className=\"col-lg-4\">\n              <Field\n                name=\"tgl_akhir\"\n                component={InputDate}\n                type=\"text\"\n                selected={this.state.tgl_akhir}\n                onChange={(date) => this.setLastDate(date)}\n                label=\"Tanggal Akhir\"\n                placeholder=\"Masukan Tanggal Akhir\"\n              />\n            </div>\n\n            <div className=\"col-lg-4\">\n              <div className=\"text-right\">\n                <label>&nbsp;</label>\n                <button\n                  type=\"submit\"\n                  value=\"PDF\"\n                  name=\"type_btn\"\n                  className=\"btn btn-primary btn-block\"\n                >\n                  {this.props.isLoading ? (\n                    <>\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\n                      Mencari\n                    </>\n                  ) : (\n                    \"Cari Titipan\"\n                  )}\n                </button>\n              </div>\n            </div>\n          </div>\n        </form>\n        {this.props.isLoading ? (\n        <Loading \n        loading\n        background=\"rgba(0, 0, 0, 0.35)\"\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\n      ) : null}\n      </div>\n    );\n  }\n}\n\nHeadBatalTitipan = reduxForm({\n  form: \"HeadBatalTitipan\",\n  enableReinitialize: true,\n})(HeadBatalTitipan);\n\nexport default connect((state) => {\n  return {\n    initialValues: {\n      tgl_awal: getTglSystem(),\n      tgl_akhir: getTglSystem(),\n    },\n  };\n})(HeadBatalTitipan);\n","import {\n  React,\n  connect,\n  Link,\n  reduxForm,\n  Panel,\n  PanelHeader,\n  Tabel,\n  // getToday,\n  Swal,\n  moment,\n  formatDate,\n  setItem,\n  getItem,\n  ToastNotification,\n  ModalGlobal,\n  showModal,\n  ReanderSelect,\n  Field,\n  hideModal,\n  PanelBody,\n} from \"../../../components/helpers/library\";\nimport { getData, getData2, putData2 } from \"../../../config/axios\";\nimport HeadBatalTitipan from \"./HeadBatalTitipan\";\nimport Loading from \"react-fullscreen-loading\";\n\nclass BatalTitipan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      batal: false,\n      datatitipan: [],\n      databaki: [],\n      columns: [\n        {\n          dataField: \"no_titip_group\",\n          text: \"No Titip\",\n          footerAttrs: {\n            colSpan: \"4\",\n          },\n          footer: \"Total\",\n        },\n        {\n          dataField: \"kode_barcode\",\n          text: \"Kode Barcode\",\n        },\n\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n        },\n        {\n          dataField: \"nama_customer\",\n          text: \"Nama Customer\",\n        },\n\n        // {\n        //   dataField: \"nama_atribut\",\n        //   text: \"Nama Atribut\",\n        // },\n        // {\n        //   dataField: \"berat\",\n        //   text: \"Berat\",\n        //   formatter: (cell) => {\n        //     return <span>{cell.toFixed(3)}</span>;\n        //   },\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\n        // },\n        // {\n        //   dataField: \"berat_atribut\",\n        //   text: \"Berat Atribut\",\n        //   formatter: (cell) => {\n        //     return <span>{cell.toFixed(3)}</span>;\n        //   },\n        //   footer: columnData => columnData.reduce((acc, item) => acc + item, 0).toFixed(3)\n        // },\n\n        // {\n        //   dataField: \"harga_atribut\",\n        //   text: \"Harga Atribut\",\n        //   formatter: (cell) => {\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\n        //   },\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\n\n        // },\n        // {\n        //   dataField: \"harga_jual\",\n        //   text: \"Harga Jual\",\n        //   formatter: (cell) => {\n        //     return <span>{parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\n        //   },\n        //   footer: columnData => parseInt(columnData.reduce((acc, item) => acc + item, 0)).toLocaleString(\"kr-KO\")\n\n        // },\n        {\n          dataField: \"total_dp\",\n          text: \"Total Dp\",\n          formatter: (rowcontent, row, index) => {\n            return (\n              <span>{parseInt(row.total_dp).toLocaleString(\"kr-KO\")}</span>\n            );\n          },\n\n          footer: (columnData) =>\n            parseInt(\n              columnData.reduce((acc, item) => acc + item, 0)\n            ).toLocaleString(\"kr-KO\"),\n        },\n\n        {\n          dataField: \"harga_total\",\n          text: \"Total Harga\",\n          formatter: (cell) => {\n            return <span> {parseInt(cell).toLocaleString(\"kr-KO\")}</span>;\n          },\n          footer: (columnData) =>\n            parseInt(\n              columnData.reduce((acc, item) => acc + item, 0)\n            ).toLocaleString(\"kr-KO\"),\n        },\n\n        {\n          dataField: \"action\",\n          text: \"Action\",\n          csvExport: false,\n          headerClasses: \"text-center\",\n          formatter: (rowcontent, row, index) => {\n            return (\n              <div className=\"row text-center\">\n                <div className=\"col-12\">\n                  <button\n                    type=\"button\"\n                    disabled={row.status_titipan !== \"FINIS\" ? false : true}\n                    data-tooltip={\n                      row.status_titipan !== \"FINIS\"\n                        ? \"Batal Titipan\"\n                        : \"Tidak Bisa Dibatal\"\n                    }\n                    onClick={() => this.showPilihBaki(row.no_titip_group)}\n                    className=\"btn btn-danger mr-3\"\n                  >\n                    <i className=\"fa fa-window-close\"></i>\n                  </button>\n                </div>\n              </div>\n            );\n          },\n          footer: \"\",\n        },\n      ],\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  batalTitipan() {\n   \n    Swal.fire({\n      title: \"Anda Yakin !!\",\n      text: \"Ingin Membatalkan Titipan Ini ?\",\n      icon: \"warning\",\n      position: \"top-center\",\n      cancelButtonText: \"Tidak\",\n      showCancelButton: true,\n      confirmButtonText: \"OK\",\n      showConfirmButton: true,\n    }).then((result) => {\n      if (result.isConfirmed) {\n        this.setState({\n          batal: true,\n        });\n        let tanggal = getItem(\"tgl_laporan\");\n        putData2(\"titip/cancel\", {\n          no_titip_group: this.state.no_titip_group,\n          kode_toko: this.state.kode_baki,\n        })\n          .then((res) => {\n            this.setState({\n              batal: false,\n            });\n            ToastNotification(\"success\", \"Titipan Berhasil Di Batal\");\n            this.props.dispatch(hideModal());\n            getData2(\n              \"titip/date/\" + tanggal.tgl_awal + \"/\" + tanggal.tgl_akhir\n            ).then((res) => {\n              // console.log(res.data);\n              let hasil = [];\n              res.data.filter((item, index) => {\n                // let status = res.data.findIndex(x => x.id === item.id) === index;\n                let row = {\n                  no_titip_group: item.no_titip_group,\n                  kode_barcode: item.kode_barcode,\n                  nama_barang: item.nama_barang,\n                  kode_customer: item.kode_customer,\n                  nama_customer: item.nama_customer,\n                  nama_atribut: item.nama_atribut,\n                  no_hp: item.no_hp,\n                  alamat_customer: item.alamat_customer,\n                  berat_atribut: item.berat_atribut,\n                  harga_atribut: item.harga_atribut,\n                  ongkos: item.ongkos,\n                  harga_total: item.harga_total,\n                  // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\n                  total_dp:\n                    res.data.findIndex(\n                      (x) => x.no_titip_group === item.no_titip_group\n                    ) === index\n                      ? item.total_dp\n                      : 0,\n                };\n                hasil.push(row);\n                return row;\n              });\n              this.setState({\n                datatitipan: hasil,\n              });\n            });\n          })\n          .catch((error) => {\n            ToastNotification(\n              \"info\",\n              /conflict/i.test(error.response.data.message || \"Error\")\n                ? \"Terjadi Kesalahan Saat Mengirim Data\"\n                : error.response.data.message\n            );\n          });\n      } else {\n        // console.log(\"test\");\n        this.setState({\n          batal: false,\n        });\n      }\n    });\n  }\n\n  showPilihBaki(no_titip_group) {\n    this.setState({\n      no_titip_group: no_titip_group,\n    });\n    this.props.dispatch(showModal());\n  }\n\n  componentDidMount() {\n    getData(\"baki/ready\").then((res) => {\n      this.setState({\n        databaki: res.data,\n      });\n    });\n  }\n  handleSubmit(data) {\n    // console.log(data);\n    this.setState({\n      isLoading: true,\n    });\n\n    getData2(\"titip/date/\" + data.tgl_awal + \"/\" + data.tgl_akhir)\n      .then((res) => {\n        // console.log(res.data);\n        if (res.data.length === 0) {\n          ToastNotification(\"info\", \"Data Yang Anda Cari Tidak Ada\");\n          this.setState({\n            isLoading: false,\n          });\n        } else {\n          ToastNotification(\"success\", \"Data Titipan Tersedia\");\n          let data_post = {\n            tgl_awal: formatDate(\n              moment(new Date(data.tgl_awal)).format(\"YYYY-MM-DD\")\n            ),\n            tgl_akhir: formatDate(\n              moment(new Date(data.tgl_akhir)).format(\"YYYY-MM-DD\")\n            ),\n          };\n          let hasil = [];\n          res.data.filter((item, index) => {\n            // let status = res.data.findIndex(x => x.id === item.id) === index;\n            let row = {\n              no_titip_group: item.no_titip_group,\n              kode_barcode: item.kode_barcode,\n              nama_barang: item.nama_barang,\n              kode_customer: item.kode_customer,\n              nama_customer: item.nama_customer,\n              nama_atribut: item.nama_atribut,\n              no_hp: item.no_hp,\n              alamat_customer: item.alamat_customer,\n              berat_atribut: item.berat_atribut,\n              harga_atribut: item.harga_atribut,\n              ongkos: item.ongkos,\n              harga_total: item.harga_total,\n              // status : res.data.findIndex(x => x.no_titip_group === item.no_titip_group) === index,\n              total_dp:\n                res.data.findIndex(\n                  (x) => x.no_titip_group === item.no_titip_group\n                ) === index\n                  ? item.total_dp\n                  : 0,\n            };\n            hasil.push(row);\n            return row;\n          });\n          // console.log(hasil);\n          this.setState({\n            isLoading: false,\n            datatitipan: hasil,\n          });\n          setItem(\"tgl_laporan\", data_post);\n        }\n      })\n      .catch((err) => {\n        ToastNotification(\"info\", err.response=== undefined ? \"Terjadi Kesalahan Saat Request Data\" : err.response.data.message);\n        this.setState({\n          isLoading: false,\n        });\n      });\n  }\n\n  render() {\n    const expandRow = {\n      renderer: (row) => (\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              {row.kode_customer === \"NONMEMBER\"\n                ? \"\"\n                : \"kode Customer :\" +\n                  row.kode_customer +\n                  (\n                    <>\n                      {\" \"}\n                      <br />{\" \"}\n                    </>\n                  )}\n              No Hp : {row.no_hp} <br />\n              Alamat Customer : {row.alamat_customer} <br />\n              Nama Atribut : {row.nama_atribut} <br />\n              Betat Atribut : {row.berat_atribut.toFixed(3)} <br />\n              Harga Atribut : {row.harga_atribut.toLocaleString(\"kr-KO\")} <br />\n              Ongkos : {row.ongkos.toLocaleString(\"kr-KO\")} <br />\n            </div>\n          </div>\n        </div>\n      ),\n      showExpandColumn: true,\n      expandByColumnOnly: true,\n    };\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Penjualan</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Lihat Titipan</li>\n        </ol>\n        <h1 className=\"page-header\">Lihat Titipan </h1>\n        <Panel>\n          <PanelHeader>Lihat Titipan</PanelHeader>\n          <br />\n          {/* Blank Page */}\n          <PanelBody>\n            <HeadBatalTitipan\n              isLoading={this.state.isLoading}\n              onSubmit={(data) => this.handleSubmit(data)}\n            />\n            <Tabel\n              keyField=\"kode_barcode\"\n              exportCsv={false}\n              data={this.state.datatitipan}\n              columns={this.state.columns}\n              empty={true}\n              textEmpty=\"Data Barang Kosong\"\n              expandRow={expandRow}\n            />\n          </PanelBody>\n\n          <br />\n          {/* End Tambah Blank Page  */}\n        </Panel>\n        <ModalGlobal\n          title={\"Pilih Baki\"}\n          size=\"l\"\n          content={\n            <>\n              <div className=\"col-lg-12\">\n                <Field\n                  name=\"kode_baki\"\n                  component={ReanderSelect}\n                  options={this.state.databaki\n                    .filter((list) => list.kode_baki !== undefined)\n                    .map((list) => {\n                      let data = {\n                        value: list.kode_baki,\n                        name: list.kode_baki,\n                      };\n                      return data;\n                    })}\n                  onChange={(e) =>\n                    this.setState({\n                      kode_baki: e,\n                    })\n                  }\n                  label=\"Kode Baki\"\n                  placeholder=\"Silahkan Pilih Kode Lokasi\"\n                />\n              </div>\n              <div className=\"col-lg-12\">\n                <button\n                  className=\"btn btn-primary\"\n                  disabled={this.state.batal}\n                  onClick={() => this.batalTitipan()}\n                  type=\"button\"\n                >\n                  {this.state.batal ? (\n                    <>\n                      <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\n                    </>\n                  ) : (\n                    \"Batal\"\n                  )}\n                </button>\n              </div>\n            </>\n          }\n        />\n        {this.state.batal ? (\n          <Loading\n            loading\n            background=\"rgba(0, 0, 0, 0.35)\"\n            loaderColor=\"rgba(94, 147, 117, 1)\"\n          />\n        ) : null}\n        {this.state.isLoading ? (\n          <Loading\n            loading\n            background=\"rgba(0, 0, 0, 0.35)\"\n            loaderColor=\"rgba(94, 147, 117, 1)\"\n          />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nBatalTitipan = reduxForm({\n  form: \"BatalTitipan\",\n  enableReinitialize: true,\n})(BatalTitipan);\nexport default connect()(BatalTitipan);\n"],"sourceRoot":""}