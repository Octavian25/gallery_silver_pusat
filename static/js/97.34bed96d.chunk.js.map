{"version":3,"sources":["pages/Laporan/LaporanPenjualan/LaporanPenjualanMarketPlace/index.jsx"],"names":["HeadLaporanPenjualanMkc","lazy","__webpack_require__","e","then","bind","LaporanPenjualanMarketPlace","props","_this","Object","_Users_nagatech_WebstormProjects_gallery_silver_pusat_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","state","isLoading","LaporanDataPenjualan","export","handleSubmit","_Users_nagatech_WebstormProjects_gallery_silver_pusat_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","data","JSON","parse","localStoragedecryp","setState","username","user_id","_this2","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","marketplace","getDataNoTimeOut","res","length","ToastNotification","localStorageencryp","stringify","databarang","forEach","element","row","no_faktur_jual","tgl_system","kode_sales","kode_member","nama_customer","no_hp","alamat_customer","berat","berat_awal","berat_jual","harga_jual","parseInt","harga_atribut","harga_gram","ongkos","harga_total","kode_barcode","kode_barang","nama_barang","kode_group","kode_dept","nama_atribut","berat_atribut","kode_gudang","kode_baki","kode_marketplace","push","catch","error","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","_components_panel_panel__WEBPACK_IMPORTED_MODULE_8__","onSubmit","Component"],"mappings":"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","file":"static/js/97.34bed96d.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { localStoragedecryp } from \"../../../../components/helpers/function\";\nimport {\n  Panel,\n  PanelBody,\n  PanelHeader,\n} from \"../../../../components/panel/panel\";\nimport { getDataNoTimeOut } from \"../../../../config/axios\";\nimport { formatDate, localStorageencryp } from \"../../../../components/helpers/function.jsx\";\nimport { ToastNotification } from \"../../../../components/helpers/notification.jsx\";\nimport * as moment from \"moment-timezone\";\n\nconst HeadLaporanPenjualanMkc = lazy(() =>\n  import(\"./HeadLaporanPenjualanMkc\")\n);\n\nclass LaporanPenjualanMarketPlace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      LaporanDataPenjualan: [],\n      export: false,\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  componentDidMount() {\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\n    this.setState({ username: data.user_id });\n  }\n  handleSubmit(data) {\n    this.setState({ isLoading: true });\n    let data_post = {\n      tgl_awal: formatDate(moment(new Date(data.tgl_awal)).format('YYYY-MM-DD')),\n      tgl_akhir: formatDate(moment(new Date(data.tgl_akhir)).format('YYYY-MM-DD')),\n      marketplace: data.marketplace,\n    };\n    getDataNoTimeOut(\"penjualan/report-marketplaces?tgl_from=\" + data_post.tgl_awal + \"&tgl_to=\" + data_post.tgl_akhir+\"&marketplace=\"+data_post.marketplace)\n      .then((res) => {\n        if (res.data.length === 0) {\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n          this.setState({\n            isLoading: false,\n            export: false,\n          });\n        } else {\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\n          let databarang = [];\n          res.data.forEach(element => {\n            let row = {\n                no_faktur_jual: element.no_faktur_jual,\n                tgl_system: element.tgl_system,\n                kode_sales: element.kode_sales,\n                kode_member:element.kode_member,\n                nama_customer: element.nama_customer,\n                no_hp: element.no_hp,\n                alamat_customer: element.alamat_customer,\n                berat:element.berat,\n                berat_awal: element.berat_jual,\n                harga_jual: parseInt(element.harga_jual) + parseInt(element.harga_atribut),\n                harga_gram: element.harga_gram,\n                harga_atribut:element.harga_atribut,\n                ongkos: element.ongkos,\n                harga_total: element.harga_total,\n                kode_barcode :element.kode_barcode,\n                kode_barang: element.kode_barang,\n                nama_barang:element.nama_barang,\n                kode_group: element.kode_group,\n                kode_dept: element.kode_dept,\n                nama_atribut: element.nama_atribut,\n                berat_atribut: element.berat_atribut,\n                kode_gudang: element.kode_gudang,\n                kode_baki: element.kode_baki,\n                kode_marketplace : element.kode_marketplace,\n            }\n            databarang.push(row)\n          });\n          this.setState({\n            export: true,\n            isLoading: false,\n            LaporanDataPenjualan: databarang,\n            \n          });\n        }\n      })\n      .catch((error) => {\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\n        this.setState({\n          isLoading: false,\n          export: false,\n        });\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Laporan</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">\n            Laporan Penjualan Marketplace\n          </li>\n        </ol>\n        <h1 className=\"page-header\">Laporan Penjualan Marketplace </h1>\n        <Panel>\n          <PanelHeader>Laporan Penjualan Marketplace</PanelHeader>\n          <PanelBody>\n            {/* {console.log(this.state.hidden)} */}\n            <HeadLaporanPenjualanMkc\n              export={this.state.export}\n              isLoading={this.state.isLoading}\n              LaporanDataPenjualan={this.state.LaporanDataPenjualan}\n              onSubmit={(data) => this.handleSubmit(data)}\n            />\n          </PanelBody>\n        </Panel>\n      </div>\n    );\n  }\n}\nexport default LaporanPenjualanMarketPlace;\n"],"sourceRoot":""}