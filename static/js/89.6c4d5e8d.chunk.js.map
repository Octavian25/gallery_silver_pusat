{"version":3,"sources":["pages/Laporan/LaporanPembelian/LaporanPembelianBarang/FormLaporanPembelianBarang.jsx"],"names":["HeadFormLaporanPembelianBarang","lazy","__webpack_require__","e","then","bind","FormLaporanPembelianBarang","props","_this","Object","C_Users_Octavian_OneDrive_Documents_GitHub_tokopusatkresno_baru_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_super","call","state","isLoading","LaporanTransaksiPembelian","export","handleSubmit","C_Users_Octavian_OneDrive_Documents_GitHub_tokopusatkresno_baru_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_2__","data","JSON","parse","localStoragedecryp","setState","username","user_id","dispatch","getDataSales","_this2","data_post","tgl_awal","formatDate","moment","Date","format","tgl_akhir","type","getData","concat","res","length","ToastNotification","localStorageencryp","stringify","catch","error","postData","_this3","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","_components_panel_panel__WEBPACK_IMPORTED_MODULE_9__","dataSales","onSubmit","Component","connect","datamaster"],"mappings":"4NAaMA,EAAiCC,eAAK,kBAC1CC,EAAAC,EAAA,IAAAC,KAAAF,EAAAG,KAAA,cAIIC,oDACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAI,EAAAC,KAAAF,KAAMJ,IACDO,MAAQ,CACXC,WAAW,EACXC,0BAA2B,GAC3BC,QAAQ,GAEVT,EAAKU,aAAeV,EAAKU,aAAab,KAAlBI,OAAAU,EAAA,EAAAV,CAAAD,IAPHA,kEAUjB,IAAIY,EAAOC,KAAKC,MAAMC,YAAmB,aACzCZ,KAAKa,SAAS,CAAEC,SAAUL,EAAKM,UAC/Bf,KAAKJ,MAAMoB,SAASC,qDAETR,GAAM,IAAAS,EAAAlB,KACjBA,KAAKa,SAAS,CAAET,WAAW,IACzB,IAAIe,EAAY,CACdC,SAAUC,YAAWC,EAAO,IAAIC,KAAKd,EAAKW,WAAWI,OAAO,eAC5DC,UAAWJ,YAAWC,EAAO,IAAIC,KAAKd,EAAKgB,YAAYD,OAAO,gBAElE,GAAiB,YAAdf,EAAKiB,KA0BN,OAzBAC,YAAO,yCAAAC,OAA0CT,EAAUC,SAApD,kBAAAQ,OAA6ET,EAAUM,YAC7FhC,KAAK,SAACoC,GACmB,IAApBA,EAAIpB,KAAKqB,QACXC,YAAkB,OAAQ,mCAC1Bb,EAAKL,SAAS,CACZT,WAAW,EACXE,QAAQ,MAGVyB,YAAkB,UAAW,wCAC7BC,YAAmB,cAAetB,KAAKuB,UAAUd,IACjDD,EAAKL,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA2BwB,EAAIpB,UAIpCyB,MAAM,SAACC,GACNJ,YAAkB,OAAQ,mCAC1Bb,EAAKL,SAAS,CACZT,WAAW,EACXE,QAAQ,OAGL,EAEP8B,YAAS,uBAAwBjB,GAC9B1B,KAAK,SAACoC,GACmB,IAApBA,EAAIpB,KAAKqB,QACXC,YAAkB,OAAQ,mCAC1Bb,EAAKL,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA4B,OAG9B0B,YAAkB,UAAW,wCAC7BC,YAAmB,cAAetB,KAAKuB,UAAUd,IACjDD,EAAKL,SAAS,CACZP,QAAQ,EACRF,WAAW,EACXC,0BAA2BwB,EAAIpB,UAKpCyB,MAAM,SAACC,GACNjB,EAAKL,SAAS,CACZP,QAAQ,EACRF,WAAW,IAEb2B,YAAkB,OAAQ,sEAOzB,IAAAM,EAAArC,KACP,OACEsC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,6BACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACZH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAMC,GAAG,KAAT,YAEFL,EAAAC,EAAAC,cAAA,MAAIC,UAAU,0BAAd,gCAIFH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,gCACAH,EAAAC,EAAAC,cAACI,EAAA,EAAD,KACEN,EAAAC,EAAAC,cAACI,EAAA,EAAD,oCACAN,EAAAC,EAAAC,cAACI,EAAA,EAAD,KAEEN,EAAAC,EAAAC,cAACnD,EAAD,CACEiB,OAAQN,KAAKG,MAAMG,OACnBF,UAAWJ,KAAKG,MAAMC,UACtByC,UAAW7C,KAAKJ,MAAMiD,UACtBxC,0BAA2BL,KAAKG,MAAME,0BACtCyC,SAAU,SAACrC,GAAD,OAAU4B,EAAK9B,aAAaE,gBAtGXsC,aA8G1BC,sBAAQ,SAAC7C,GACtB,MAAO,CACL0C,UAAY1C,EAAM8C,WAAWhC,eAFlB+B,CAIZrD","file":"static/js/89.6c4d5e8d.chunk.js","sourcesContent":["import React, { Component, lazy } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { formatDate, localStoragedecryp, localStorageencryp } from \"../../../../components/helpers/function\";\r\nimport { ToastNotification } from \"../../../../components/helpers/notification\";\r\nimport {\r\n  Panel,\r\n  PanelBody,\r\n  PanelHeader,\r\n} from \"../../../../components/panel/panel\";\r\nimport { getData, postData } from \"../../../../config/axios\";\r\nimport * as moment from \"moment-timezone\";\r\nimport { getDataSales } from \"../../../../actions/datamaster_action\";\r\nimport { connect } from \"react-redux\";\r\nconst HeadFormLaporanPembelianBarang = lazy(() =>\r\n  import(\"./HeadFormLaporanPembelianBarang\")\r\n);\r\n\r\n\r\nclass FormLaporanPembelianBarang extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoading: false,\r\n      LaporanTransaksiPembelian: [],\r\n      export: false,\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    let data = JSON.parse(localStoragedecryp(\"userdata\"));\r\n    this.setState({ username: data.user_id });\r\n    this.props.dispatch(getDataSales())\r\n  }\r\n  handleSubmit(data) {\r\n    this.setState({ isLoading: true });\r\n      let data_post = {\r\n        tgl_awal: formatDate(moment(new Date(data.tgl_awal)).format('YYYY-MM-DD')),\r\n        tgl_akhir: formatDate(moment(new Date(data.tgl_akhir)).format('YYYY-MM-DD')),\r\n      };\r\n    if(data.type === \"SELISIH\"){\r\n      getData(`pembelian/report-selisih?tanggal[gte]=${data_post.tgl_awal}&tanggal[lte]=${data_post.tgl_akhir}`)\r\n      .then((res) => {\r\n        if (res.data.length === 0) {\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          this.setState({\r\n            isLoading: false,\r\n            export: false,\r\n          });\r\n        } else {\r\n          ToastNotification(\"success\", \"Laporan Transaksi Penjualan Tersedia\");\r\n          localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n          this.setState({\r\n            export: true,\r\n            isLoading: false,\r\n            LaporanTransaksiPembelian: res.data,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n        this.setState({\r\n          isLoading: false,\r\n          export: false,\r\n        });\r\n      });\r\n      return false\r\n    } else {\r\n      postData(\"pembelian/get/report\", data_post)\r\n        .then((res) => {\r\n          if (res.data.length === 0) {\r\n            ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n            this.setState({\r\n              export: false,\r\n              isLoading: false,\r\n              LaporanTransaksiPembelian : []\r\n            });\r\n          } else {\r\n            ToastNotification(\"success\", \"Laporan Transaksi Pembelian Tersedia\");\r\n            localStorageencryp(\"tgl_laporan\", JSON.stringify(data_post));\r\n            this.setState({\r\n              export: true,\r\n              isLoading: false,\r\n              LaporanTransaksiPembelian: res.data,\r\n            });\r\n          }\r\n        })\r\n       \r\n        .catch((error) => {\r\n          this.setState({\r\n            export: false,\r\n            isLoading: false\r\n          });\r\n          ToastNotification(\"info\", \"Data Yang Di Cari Tidak Ada !!!\");\r\n          // this.setState({ isLoading: false });\r\n        });\r\n    }\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <ol className=\"breadcrumb float-xl-right\">\r\n          <li className=\"breadcrumb-item\">\r\n            <Link to=\"#\">Laporan</Link>\r\n          </li>\r\n          <li className=\"breadcrumb-item active\">\r\n            Laporan Transaksi Pembelian\r\n          </li>\r\n        </ol>\r\n        <h1 className=\"page-header\">Laporan Transaksi Pembelian </h1>\r\n        <Panel>\r\n          <PanelHeader>Laporan Transaksi Pembelian</PanelHeader>\r\n          <PanelBody>\r\n            {/* {console.log(this.state.hidden)} */}\r\n            <HeadFormLaporanPembelianBarang\r\n              export={this.state.export}\r\n              isLoading={this.state.isLoading}\r\n              dataSales={this.props.dataSales}\r\n              LaporanTransaksiPembelian={this.state.LaporanTransaksiPembelian}\r\n              onSubmit={(data) => this.handleSubmit(data)}\r\n            />\r\n          </PanelBody>\r\n        </Panel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default connect((state) => {\r\n  return {\r\n    dataSales : state.datamaster.getDataSales\r\n  }\r\n})(FormLaporanPembelianBarang);\r\n"],"sourceRoot":""}