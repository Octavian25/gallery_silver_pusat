{"version":3,"sources":["pages/Kasir/ValidasiTitipan/HeadValidasiTitipan.jsx","pages/Kasir/ValidasiTitipan/FormValidasiTitipan.jsx"],"names":["HeadValidasiTitipan","props","_this","Object","classCallCheck","this","_super","call","state","isLoading","DataValidasi","btnValidasi","kode_sales","warna","dispatch","getDataSales","saveValidasiJual","length","saveValidasiBeli","localStorage","setItem","JSON","stringify","e","_this2","setState","getData","then","res","change","data","nama_sales","catch","err","ToastNotification","_this3","hasil","getData2","harga_total","forEach","element","toLocaleString","disableButtonValidasi","console","log","_this4","selectRow","mode","clickToSelect","selectColumnPosition","onSelect","row","isSelect","rowIndex","no_titip_group","cek","parse","getItem","findIndex","push","splice","onSelectAll","list","index","datasalses","DataSales","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","key","preventDefault","className","Field","name","onChange","label","placeholder","options","map","value","component","ReanderSelect","ReanderField","type","readOnly","customeCss","onClick","getDetaValidasi","disabled","Fragment","panel","tabel","keyField","columns","columnsJual","empty","isLoadingBtl","btnClear","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","datamaster","hutang","FormValidasiTitipan","dataField","text","footer","cell","num","footerAttrs","colSpan","formatter","toFixed","columnData","reduce","acc","item","headerClasses","parseFloat","bind","assertThisInitialized","setTimeout","removeItem","reset","validasi_titipan","postData","notabeli","feedback","jml_alamat","head","n_alamat_customer","concat","tgl_system","nama_customer","no_hp","split","total","harga_nota","detail","harga","no_faktur_beli","kode_dept","nama_barang","berat","document","getElementById","TextFile","response","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","react_router_dom","to","style","display","id","rows","cols","ValidasiTitipan_HeadValidasiTitipan","columnsBeli","React"],"mappings":"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","file":"static/js/67.31a8caf6.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { ReanderField, ReanderSelect } from \"../../../components/helpers/field\";\nimport { getDataSales } from \"../../../actions/datamaster_action\";\nimport { getData, getData2 } from \"../../../config/axios\";\nimport { ToastNotification } from \"../../../components/helpers/notification\";\nimport Tabel from \"../../../components/helpers/tabel\";\nimport {\n  disableButtonValidasi,\n  saveValidasiBeli,\n  saveValidasiJual,\n} from \"../../../actions/hutang_action\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel\";\nimport Loading from 'react-fullscreen-loading';\n\nconst maptostate = (state) => {\n  // let hasil = parseInt(localStorage.getItem('total_harga_jual')) - parseInt(localStorage.getItem('total_harga_beli'))\n  // let datausersvalidasi = localStorage.getItem('datausersvalidasi')===null ? [] : JSON.parse(localStorage.getItem('datausersvalidasi'));\n  return {\n    DataSales: state.datamaster.getDataSales,\n    saveValidasiBeli: state.hutang.saveValidasiBeli,\n    saveValidasiJual: state.hutang.saveValidasiJual,\n    btnValidasi: state.hutang.disableButtonValidasi,\n  };\n};\nclass HeadValidasiTitipan extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      DataValidasi: [],\n      btnValidasi: false,\n      kode_sales: false,\n      warna :false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getDataSales());\n    // this.props.dispatch(disableButtonValidasi());\n    if (this.props.saveValidasiJual.length === 0 && this.props.saveValidasiBeli.length === 0) {\n      localStorage.setItem(\n        \"validasi_titipan\",\n        JSON.stringify([])\n      );\n      localStorage.setItem(\n        \"validasi_beli\",\n        JSON.stringify([])\n      );\n    }\n  }\n  getDataSales(e) {\n    localStorage.setItem(\n      \"validasi_titipan\",\n      JSON.stringify([])\n    );\n    localStorage.setItem(\n      \"validasi_beli\",\n      JSON.stringify([])\n    );\n    this.setState({\n      kode_sales: e,\n    });\n    getData(\"sales/get/by-kode-sales/\" + e)\n      .then((res) => {\n        // localStorage.setItem('datausersvalidasi',JSON.stringify(res.data))\n        this.props.change(\"nama_sales\", res.data.nama_sales);\n        this.props.dispatch(saveValidasiJual([]));\n        this.props.dispatch(saveValidasiBeli([]));\n      })\n      .catch((err) => {\n        ToastNotification(\"info\", \"Gagal Mengambil Data Keserver\");\n      });\n  }\n  getDetaValidasi() {\n    let hasil = {\n      kode_sales: this.state.kode_sales,\n    };\n    if (hasil.kode_sales === false) {\n      ToastNotification(\"info\", \"Kode Sales Harus Di pilih\");\n      this.setState({\n        isLoading: false,\n      });\n      return false;\n    }\n     this.setState({\n      isLoading: true,\n    });\n    if (this.state.kode_sales === \"SEMUA\") {      \n    getData2(\"titip/unvalid\", hasil)\n      .then((res) => {\n        if (\n          res.data.length === 0 \n        ) {\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.change('grandtotal',0)\n        } else {\n          let harga_total = 0;\n          res.data.forEach(element => {\n            harga_total = harga_total + element.harga_total\n          });\n\n          this.props.change('grandtotal',harga_total.toLocaleString(\"kr-KO\"))\n          ToastNotification(\"success\", \"Data Validasi Tersedia\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.dispatch(disableButtonValidasi(true));\n          localStorage.setItem(\n            \"validasi_titipan\",\n            JSON.stringify(res.data)\n          );\n          this.props.dispatch(saveValidasiJual(res.data));\n        }\n      })\n      .catch((err) => {\n        ToastNotification(\"info\", \"Terjadi Kesalahan Saat Request\");\n        this.setState({\n          isLoading: false,\n          DataValidasi: [],\n        });\n      });\n    } else {\n      getData2(\"titip/unvalid/by-sales/\"+ this.state.kode_sales)\n        .then((res) => {\n        console.log(res);\n        if (\n          res.data.length === 0 \n        ) {\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.change('grandtotal',0)\n        } else {\n          let harga_total = 0;\n          res.data.forEach(element => {\n            harga_total = harga_total + element.harga_total\n          });\n\n          this.props.change('grandtotal',harga_total.toLocaleString(\"kr-KO\"))\n          ToastNotification(\"success\", \"Data Validasi Tersedia\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.dispatch(disableButtonValidasi(true));\n          localStorage.setItem(\n            \"validasi_titipan\",\n            JSON.stringify(res.data)\n          );\n          this.props.dispatch(saveValidasiJual(res.data));\n        }\n      })\n      .catch((err) => {\n        ToastNotification(\"info\", \"Terjadi Kesalahan Saat Request\");\n        this.setState({\n          isLoading: false,\n          DataValidasi: [],\n        });\n      });\n    }\n\n  }\n  render() {\n    const selectRow = {\n      mode: \"checkbox\",\n      clickToSelect: true,\n      selectColumnPosition: \"right\",\n      onSelect: (row, isSelect, rowIndex, e) => {\n        // console.log(isSelect);\n        if (isSelect === true) {\n          let hasil = {\n            no_titip_group: row.no_titip_group,\n          };\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_titip\")) || [];\n          let hasil_cek = cek.findIndex(\n            (hasil) => hasil.no_titip_group === row.no_titip_group\n          );\n          if (hasil_cek === -1) {\n            cek.push(hasil);\n            localStorage.setItem(\"data_validasi_titip\", JSON.stringify(cek));\n          }\n        } else {\n          // console.log();\n          if (localStorage.getItem(\"data_validasi_titip\") === null) {\n          } else {\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\n            data.splice(row.no_titip_group, 1);\n            localStorage.setItem(\"data_validasi_titip\", JSON.stringify(data));\n          }\n        }\n      },\n      onSelectAll: (isSelect, data, e) => {\n        data.forEach((list, index) => {\n          if (isSelect === true) {\n            let hasil = {\n              no_titip_group: list.no_titip_group,\n            };\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_titip\")) || [];\n            let hasil_cek = cek.findIndex(\n              (hasil) => hasil.no_titip_group === list.no_titip_group\n            );\n            if (hasil_cek === -1) {\n              cek.push(hasil);\n              localStorage.setItem(\"data_validasi_titip\", JSON.stringify(cek));\n            }\n          } else {\n            if (localStorage.getItem(\"data_validasi_titip\") === null) {\n            } else {\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\n              data.splice(list.no_titip_group, 1);\n              localStorage.setItem(\"data_validasi_titip\", JSON.stringify(data));\n            }\n          }\n        });\n      },\n    };\n    let datasalses = [\n      {\n        kode_sales : \"SEMUA\",\n        nama_sales: \"SEMUA\"\n      }\n    ];\n    this.props.DataSales.forEach(element => {\n      let row = {\n        kode_sales: element.kode_sales,\n        nama_sales: element.nama_sales,\n      }\n      datasalses.push(row)\n    });\n\n    return (\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\n      onKeyPress={(e) => {\n        e.key === \"Enter\" && e.preventDefault();\n      }}\n      >\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <Field\n              name=\"kode_sales\"\n              onChange={(e) => this.getDataSales(e)}\n              label=\"Pilih Kode Sales\"\n              placeholder=\"Masukan Kode Sales\"\n              options={datasalses.map((list) => {\n                let data = {\n                  value: list.kode_sales,\n                  name: list.nama_sales,\n                };\n                return data;\n              })}\n              component={ReanderSelect}\n            />\n          </div>\n          <div className=\"col-3\">\n            <Field\n              name=\"nama_sales\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Nama Sales\"\n              placeholder=\"Masukan Nama Sales\"\n              readOnly={true}\n            />\n          </div>\n          <div className=\"col-3\">\n            <Field\n              name=\"grandtotal\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Grand Total\"\n              placeholder=\"Grand Total\"\n              readOnly={true}\n              customeCss={this.state.warna ? \"customeInput\" : \"\"}\n            />\n          </div>\n          <div className=\"col-3\">\n            <label>&nbsp;</label>\n            <button\n              onClick={() => this.getDetaValidasi()}\n              className=\"btn btn-primary btn-block\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {this.state.isLoading ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cari Data\n                </>\n              ) : (\n                \"Cari Data\"\n              )}\n            </button>\n          </div>\n          {/* <div className=\"col-3\">\n          <Field\n              name=\"grand_total\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Grand Total\"\n              placeholder=\"Grand Total\"\n              readOnly={true}\n            />\n          </div> */}\n          <div className=\"col-12\">\n            <Panel>\n              <PanelHeader>List Data Titipan</PanelHeader>\n              <br />\n              <Tabel\n                selectRow={selectRow}\n                keyField=\"kode_barcode\"\n                columns={this.props.columnsJual}\n                data={this.props.saveValidasiJual || []}\n                empty={true}\n              />\n            </Panel>\n          </div>\n          <div className=\"col-6\">\n            {this.props.btnValidasi === false ? (\n              <button\n                className=\"btn btn-primary btn-block\"\n                disabled={true}\n                type=\"button\"\n              >\n                Validasi\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-primary btn-block\"\n                disabled={this.props.isLoading}\n                type=\"submit\"\n              >\n                {this.props.isLoading ? (\n                  <>\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Validasi\n                  </>\n                ) : (\n                  \"Validasi\"\n                )}\n              </button>\n            )}\n          </div>\n          <div className=\"col-6\">\n            <button\n              className=\"btn btn-warning btn-block\"\n              disabled={this.props.isLoadingBtl}\n              onClick={this.props.btnClear}\n              type=\"button\"\n            >\n              {this.props.isLoadingBtl ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\n                </>\n              ) : (\n                \"Batal\"\n              )}\n            </button>\n          </div>\n        </div>\n        {this.props.isLoading ? (\n        <Loading \n        loading\n        background=\"rgba(0, 0, 0, 0.35)\"\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\n      ) : null}\n      </form>\n    );\n  }\n}\n\nHeadValidasiTitipan = reduxForm({\n  form: \"HeadValidasiTitipanHutang\",\n  enableReinitialize: true,\n})(HeadValidasiTitipan);\nexport default connect(maptostate)(HeadValidasiTitipan);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { reduxForm, reset } from \"redux-form\";\nimport {\n  disableButtonValidasi,\n  saveValidasiBeli,\n  saveValidasiJual,\n} from \"../../../actions/hutang_action.jsx\";\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\nimport { postData } from \"../../../config/axios.jsx\";\nimport HeadValidasiJualBeli from \"./HeadValidasiTitipan.jsx\";\n// import CetakFakturJualBeli from \"./pdf/CetakFakturJualBeli.jsx\";\n\nclass FormValidasiTitipan extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLoadingBtl: false,\n      columnsJual: [\n        {\n          dataField: \"no_titip_group\",\n          text: \"No Titip\",\n          footer: (cell, row, num, index) => {\n            return (\n              <div>\n                Total Barang :{\" \"}\n                {JSON.parse(localStorage.getItem(\"validasi_titipan\")) === null\n                  ? 0\n                  : JSON.parse(localStorage.getItem(\"validasi_titipan\")).length ||\n                    0}{\" \"}\n              </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_barcode\",\n          text: \"Kode Barcode \",\n        },\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n          footer: \"\",\n          footerAttrs: {\n            colSpan: \"3\",\n          },\n        },\n        {\n          dataField: \"nama_atribut\",\n          text: \"Nama Atribut\",\n        },\n       \n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        // {\n        //   dataField: \"ongkos\",\n        //   text: \"Ongkos\",\n        //   headerClasses: 'text-right',\n        //   formatter: (cell) => {\n        //     return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n        //   },\n        //   footer: (columnData) => {\n        //     return <div className=\"text-right\"> { columnData\n        //       .reduce((acc, item) => acc + item, 0)\n        //       .toLocaleString(\"kr-KO\")  }</div>;\n        //   },\n        // },\n        {\n          dataField: \"harga_total\",\n          text: \"Harga\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            localStorage.setItem(\n              \"total_harga_beli\",\n              columnData.reduce((acc, item) => acc + item, 0)\n            );\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n      ],\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.btnClear = this.btnClear.bind(this);\n  }\n\n  btnClear() {\n    this.setState({\n      isLoadingBtl: true,\n    });\n    setTimeout(() => {\n      localStorage.removeItem(\"validasi_titipan\");\n      localStorage.removeItem(\"validasi_beli\");\n      this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n      this.props.dispatch(saveValidasiJual([]));\n      this.props.dispatch(saveValidasiBeli([]));\n      this.props.dispatch(disableButtonValidasi(false));\n      this.setState({\n        isLoadingBtl: false,\n      });\n    }, 1000);\n  }\n  componentWillUnmount() {\n    this.props.dispatch(saveValidasiJual([]));\n    this.props.dispatch(saveValidasiBeli([]));\n  }\n  handleSubmit(data) {\n    let validasi_titipan = JSON.parse(localStorage.getItem(\"data_validasi_titip\"));\n\n    postData(\"validasi/simpan/jualbeli\", validasi_titipan)\n      .then((res) => {\n       \n// console.log(res.data.notabeli);\nif (res.data.notabeli.length !== 0) {\nlet feedback = '';\nres.data.notabeli.forEach((row, index) => {\n  let jml_alamat = row.head.n_alamat_customer.length;\nfeedback += `========================================\nTanggal          : ${row.head.tgl_system}\nNama Customer    : ${row.head.nama_customer}\nNo Hp            : ${row.head.no_hp}\nAlamat Customer  : ${row.head.n_alamat_customer.split(0,20)}\n`\nif(jml_alamat>20){\nfeedback += `                   ${row.head.n_alamat_customer.split(0,20)}\n`;\n}\nif(jml_alamat>40){\nfeedback += `                   ${row.head.n_alamat_customer.split(40,20)}\n`;\n}\nfeedback += `========================================\\n`\nfeedback += `Keterangan\\n`\nfeedback += `========================================\\n`\nlet total = 0;\nlet harga_nota = 0;\nrow.detail.forEach((detail, index) => {\ntotal = total + detail.harga;\nharga_nota = harga_nota + detail.harga_nota;\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\nfeedback += `Nama Barang    : ${detail.nama_barang}\\n`\nfeedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `========================================\\n`\n})\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `========================================\\n`\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `\n\n\n\n`\n})\n          document.getElementById(\"myInput\").value = feedback;\n        setTimeout(() => {\n          this.TextFile();\n        }, 100);\n}\n        localStorage.removeItem(\"validasi_titipan\");\n        localStorage.removeItem(\"validasi_beli\");\n        this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n        this.props.dispatch(saveValidasiJual([]));\n        this.props.dispatch(saveValidasiBeli([]));\n        ToastNotification(\"success\", \"Validasi Transaksi Berhasil\");\n        this.props.dispatch(disableButtonValidasi(false));\n      })\n      .catch((err) => {\n        console.log(err.response.data);\n        ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\n      });\n  }\n  TextFile() {\n    const element = document.createElement(\"a\");\n    const file = new Blob([document.getElementById(\"myInput\").value], {\n      type: \"text/plain;charset=utf-8\",\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = \"autoprint_pembelian.txt\";\n    document.body.appendChild(element);\n    element.click();\n  }\n//   componentDidMount() {\n//     setTimeout(() => {\n//       let hasil = `========== Transaksi Pembelian =========\n// Nama : Samsul Arifin123\n// No Hp : 081238198313\n// KRESNO\n// ========================================\n\n\n\n\n\n\n//         `;\n//       document.getElementById(\"myInput\").value = hasil;\n//     }, 100);\n//   }\n//   cetakFaktur() {\n//     let data =\n//     {\n//       penjualan: [\n//         {\n//            no_faktur_group: \"44c6d744-360f-487a-98d6-11638bf24656\"\n//         }\n//     ],\n//     pembelian: [\n//         {\n//             no_faktur_group: \"75220216-44c0-4110-95be-e62d5cecb54f\"\n//         }\n//     ]\n//     }\n//     postData('validasi/simpan/jualbeli', data).then((res) => {\n//       // console.log(res.data);\n//       // CetakFakturJualBeli(res.data)\n//       let feedback = '';\n// res.data.notabeli.head.forEach((row, index) => {\n// let jml_alamat = row.n_alamat_customer.length;\n// feedback = `========================================\n// Tanggal          : ${row.tgl_system}\n// Nama Customer    : ${row.nama_customer}\n// No Hp            : ${row.no_hp}\n// Alamat Customer  : ${row.n_alamat_customer.split(0,20)}\n// `\n// if(jml_alamat>20){\n// feedback += `                   ${row.n_alamat_customer.split(0,20)}\n// `;\n// }\n// if(jml_alamat>40){\n// feedback += `                   ${row.n_alamat_customer.split(40,20)}\n// `;\n// }\n// feedback += `========================================\\n`\n// feedback += `Keterangan\\n`\n// feedback += `========================================\\n`\n// })\n// let total = 0;\n// let harga_nota = 0;\n// res.data.notabeli.detail.forEach((detail, index) => {\n// total = total + detail.harga;\n// harga_nota = harga_nota + detail.harga_nota;\n// feedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\n// feedback += `Jenis Barang   : ${detail.kode_dept}\\n`\n// feedback += `Nama Barang    : ${detail.nama_barang}\\n`\n// feedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\n// feedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `========================================\\n`\n// })\n// feedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `========================================\\n`\n// feedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `\n\n\n\n\n\n\n// `\n//       document.getElementById(\"myInput\").value = feedback;\n//       this.TextFile()\n//     })\n//   }\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Kasir</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Validasi Titipan</li>\n        </ol>\n        <h1 className=\"page-header\">Validasi Titipan </h1>\n        <Panel>\n          <PanelHeader>Validasi Titipan</PanelHeader>\n          <textarea\n            style={{ display: \"none\" }}\n            id=\"myInput\"\n            rows=\"100\"\n            cols=\"100\"\n          />\n\n          <br />\n          {/* Validasi Jual Beli */}\n          {/* <button onClick={()=>this.cetakFaktur()}> Print </button> */}\n          <div className=\"container\">\n            <HeadValidasiJualBeli\n              onSubmit={(data) => this.handleSubmit(data)}\n              btnClear={() => this.btnClear()}\n              isLoadingBtl={this.state.isLoadingBtl}\n              columnsBeli={this.state.columnsBeli}\n              columnsJual={this.state.columnsJual}\n            />\n          </div>\n          <br />\n          {/* End Tambah Validasi Jual Beli  */}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nFormValidasiTitipan = reduxForm({\n  form: \"FormValidasiTitipan\",\n  enableReinitialize: true,\n})(FormValidasiTitipan);\nexport default connect()(FormValidasiTitipan);\n"],"sourceRoot":""}