(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1132:function(a,e,n){},1271:function(a,e,n){"use strict";n.r(e);var l=n(8),t=n(9),r=n(14),s=n(11),i=n(10),o=n(1),u=n.n(o),b=n(25),m=n(32),c=n(34),p=n(323),d=n(19),g=n(45),v=n(16),h=n(322),k=n(20),f=n(228),L=n.n(f),B=(n(1132),n(162)),S=function(a){var e={};return a.user_id||(e.user_id="User Id Harus Diisi"),e},E=n(52),D=n.n(E),j=[{label:"Data Master",options:[{value:"/master-toko",label:"Master Toko"},{value:"/master-group",label:"Master Group"},{value:"/master-jenis",label:"Master Jenis"},{value:"/master-gudang",label:"Master Gudang"},{value:"/master-baki",label:"Master Baki"},{value:"/master-bandrol",label:"Master Bandrol"},{value:"/master-bandrol",label:"Master Tukang"},{value:"/tambah-bahan-tukang",label:"Tambah Bahan Tukang"},{value:"/ambil-bahan-tukang",label:"Ambil Bahan Tukang"},{value:"/master-labeling",label:"Master Labeling"},{value:"/master-pabrik",label:"Master Pabrik"},{value:"/master-atribut",label:"Master Atribut"},{value:"/master-kondisi-barang",label:"Master Kondisi Barang"},{value:"/master-parameter-point",label:"Master Parameter Point"}]},{label:"Sepuhan",options:[{value:"/pembagian-pesanan",label:"Pembagian Pesanan"},{value:"/pesanan-selesai",label:"Pesanan Selesai"}]},{label:"Data Barang",options:[{value:"/data-barang",label:"Data Barang"},{value:"/kirim-barang",label:"Kirim Barang"},{value:"/hancur-data-barang",label:"Hancur Data Barang"},{value:"/pindah-barang",label:"Pindah Barang"},{value:"/pindah-barang-satu-baki",label:"Pindah Barang Satu Baki"}]},{label:"Stock Pembelian",options:[{value:"/kirim-dari-barang-bos",label:"Kirim Dari Barang Bos"}]},{label:"Manage User",options:[{value:"/data-users",label:"Data Users"},{value:"/hak-akses-users",label:"Hak Akses Users"}]},{label:"Validasi",options:[{value:"/validasi-inputan",label:"Validasi Inputan"},{value:"/validasi-barang-rusak",label:"Validasi Barang Rusak"}]},{label:"Stock Opname",options:[{value:"/stock-opname-pesanan",label:"Pesanan"}]},{label:"Member",options:[{value:"/data-member",label:"Data Member"},{value:"/lihat-transaksi-member",label:"Lihat Transaksi Member"},{value:"/transaksi-poin",label:"Transaksi Poin"},{value:"/tukar-point",label:"Tukar Poin"}]},{label:"Laporan Barang",options:[{value:"/laporan-tambah-barang",label:"Laporan Tambah Barang"},{value:"/laporan-barang-detail",label:"Laporan Barang Detail"},{value:"/laporan-hancur-barang",label:"Laporan Hancur Barang"},{value:"/laporan-pindah-barang",label:"Laporan Pindah Barang"},{value:"/laporan-barang-summary",label:"Laporan Barang Summary"},{value:"/laporan-kirim-barang",label:"Laporan Kirim Barang"}]},{value:"/laporan-daftar-member",label:"Laporan Daftar Member"},{value:"/laporan-sortir-pembelian",label:"Laporan Sortir Pembelian"},{label:"Laporan Stock Pembelian",options:[{value:"/laporan-kirim-barang-dari-bos",label:"Laporan Kirim Barang Dari Bos"},{value:"/laporan-saldo-aktif-kirim-barnag-dari-bos",label:"Laporan Saldo Aktif Kirim Barang Dari Bos"}]},{label:"Laporan Sepuh",options:[{value:"/laporan-sortir-sepuh",label:"Laporan Sortir Sepuh"},{value:"/laporan-kirim-sepuh",label:"Laporan Kiim Sepuh"},{value:"/laporan-barang-dalam",label:"Laporan Barang Dalam"},{value:"/laporan-kirim-labeling",label:"Laporan Kirim Labeling"},{value:"/laporan-terima-barang-sepuh",label:"Laporan Terima Barang Sepuh"}]},{label:"Laporan Pesanan",options:[{value:"/laporan-pesanan-tukang",label:"Laporan Pesanan Tukang"},{value:"/laporan-bahan-tukang",label:"Laporan Bahan Tukang"},{value:"/laporan-pesanan-so",label:"Laporan Pesanan So"}]},{label:"Utility",options:[{value:"/settingsystem",label:"Setting System"},{value:"/cetak-barcode",label:"Cetak Barcode"}]}],M=function(a){Object(s.a)(n,a);var e=Object(i.a)(n);function n(a){var t;return Object(l.a)(this,n),(t=e.call(this,a)).state={isLoading:!1},t}return Object(t.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(B.e)())}},{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-6"},u.a.createElement(h.a,{id:"user_id",name:"user_id",onChange:this.props.getDataUsers,label:"Pilih User Id",placeholder:"Pilih User Id",options:this.props.DataUsers.map(function(a){return{value:a.user_id,name:a.usere_name}}),component:k.f})),u.a.createElement("div",{className:"col-6"},u.a.createElement(h.a,{id:"nama_user",name:"nama_user",component:k.e,type:"text",label:"Nama User",defaultValue:this.state.nama,placeholder:"Masukan Nama User",readOnly:!0})),u.a.createElement("div",{className:"col-12",style:{height:220}},u.a.createElement(L.a,{options:j,selected:this.props.selected,filterPlaceholder:"Filter...",onChange:this.props.selectedAkses})),u.a.createElement("div",{className:"col-12"},u.a.createElement("button",{className:"btn btn-primary btn-block",disabled:this.props.isLoading,type:"submit"},this.props.isLoading?u.a.createElement(u.a.Fragment,null,u.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"))),this.props.isLoading?u.a.createElement(D.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),n}(o.Component);M=Object(p.a)({form:"HeadFormHakAkses",enableReinitialize:!0,validate:S})(M);var O=Object(b.b)(function(a){return{DataUsers:a.manageusers.getDataUser}},null)(M),P=function(a){Object(s.a)(n,a);var e=Object(i.a)(n);function n(a){var t;return Object(l.a)(this,n),(t=e.call(this,a)).selectedAkses=function(a){t.setState({selected:a})},t.state={isLoading:!1,selected:[],nama:"samsul"},t.handleSubmit=t.handleSubmit.bind(Object(r.a)(t)),t.selectedAkses=t.selectedAkses.bind(Object(r.a)(t)),t}return Object(t.a)(n,[{key:"handleSubmit",value:function(a){var e=this;this.setState({isLoading:!0});var n=this.state.selected||[],l=[];n.forEach(function(e,n){var t={user_id:a.user_id,menu_id:e,menu_name:e};l.push(t)}),console.log(l),Object(v.k)("akses-user/add",l).then(function(a){Object(d.e)("success","Hak Akses Berhasil Disimpan")}).then(function(){e.setState({selected:[],isLoading:!1}),e.props.dispatch(Object(c.d)("HeadFormHakAkses"))}).catch(function(a){e.setState({isLoading:!1}),Object(d.e)("info","Terjadi Kesalahan Saat Mengirim Data")})}},{key:"getDataUsers",value:function(a){var e=this;Object(v.d)("sales/get/by-kode-sales/"+a).then(function(e){document.getElementById("nama_user").value=void 0===e.data.nama_sales?a:e.data.nama_sales});var n=[];Object(v.d)("akses-user/id/"+a).then(function(a){a.data.forEach(function(a){n.push(a.menu_name)}),e.setState({selected:n})}).catch(function(a){console.log(a)})}},{key:"render",value:function(){var a=this;return u.a.createElement("div",null,u.a.createElement("ol",{className:"breadcrumb float-xl-right"},u.a.createElement("li",{className:"breadcrumb-item"},u.a.createElement(m.b,{to:"#"},"Manage Users")),u.a.createElement("li",{className:"breadcrumb-item active"},"Hak Akses")),u.a.createElement("h1",{className:"page-header"},"Hak Akses "),u.a.createElement(g.a,null,u.a.createElement(g.c,null,"Hak Akses"),u.a.createElement("br",null),u.a.createElement("div",{className:"container"},u.a.createElement(O,{selected:this.state.selected,isLoading:this.state.isLoading,getDataUsers:function(e){return a.getDataUsers(e)},selectedAkses:function(e){return a.selectedAkses(e)},onSubmit:function(e){return a.handleSubmit(e)}})),u.a.createElement("br",null)))}}]),n}(u.a.Component);P=Object(p.a)({form:"FormHakAkses",enableReinitialize:!0})(P);e.default=Object(b.b)()(P)}}]);
//# sourceMappingURL=21.1fbad1d6.chunk.js.map