(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1273:function(t,e,a){"use strict";a.r(e);var n=a(8),i=a(9),o=a(15),l=a(11),r=a(10),c=a(0),s=a(1),d=a.n(s),u=a(30),m=a(320),b=a(321),g=a(21),h=a(5),p=a(54),O=a(67),f=a.n(O),E=a(34),v=(a(55),function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=new E.default("l","mm",[297,210]),n=[],i=30;a.setFontSize(15),a.text("LAPORAN OTORISASI AKUN",14,15),a.setFontSize(20),a.text(Object(h.l)().nama_toko,200,15),a.setFontSize(8);var o=Object(h.l)().alamat_toko.length;o>20&&a.text(Object(h.l)().alamat_toko.slice(0,48),200,20),o>50&&a.text(Object(h.l)().alamat_toko.slice(48,90),200,25),a.setFontSize(10),a.setProperties({title:"LAPORAN OTORISASI AKUN"}),t=[[{content:"No"},{content:"USER ID"},{content:"KATEGORI"},{content:"DESKRIPSI"},{content:"KETERANGAN"}]],e.forEach(function(t,e){var a=[{content:"".concat(++e),styles:{cellWidth:10}},t.user_id,t.kategori,t.description,t.keterangan];n.push(a)});var l=[{colSpan:6,content:"Printed By ".concat(JSON.parse(Object(h.n)("userdata")).user_id," / ").concat(Object(h.k)()),styles:{fontStyle:"italic",textColor:"#000"}}];n.push(l),a.autoTable({head:t,body:n,startY:i,theme:"plain",rowPageBreak:"avoid",margin:{top:10},bodyStyles:{fontSize:8},headStyles:{fontSize:8,textColor:"#000",fillColor:"#E8E5E5"}}),i=a.autoTableEndPosY()+3,n=[];var r=a.internal.getNumberOfPages(),c=a.internal.pageSize.width,s=a.internal.pageSize.height;a.setFontSize(10);for(var d=1;d<r+1;d++){var u=c/2,m=s-10;a.setPage(d),a.text("".concat(d," of ").concat(r),u,m,{align:"center"})}var b=a.output("datauristring"),g=window.open();g.document.open(),g.document.write("<html><head><title>LAPORAN BARANG DETAIL</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src="+b+"></embed></body></html>")}),S=function(t){Object(l.a)(a,t);var e=Object(r.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={date:new Date},i.setStartDate=i.setStartDate.bind(Object(o.a)(i)),i.setLastDate=i.setLastDate.bind(Object(o.a)(i)),i}return Object(i.a)(a,[{key:"handleSubmit",value:function(t){console.log(t)}},{key:"exportPdf",value:function(){}},{key:"setStartDate",value:function(t){this.setState({tgl_awal:new Date(t)})}},{key:"setLastDate",value:function(t){this.setState({tgl_akhir:new Date(t)})}},{key:"render",value:function(){var t=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-4"},d.a.createElement(m.a,{name:"tgl_awal",component:g.c,label:"Tanggal Dari",type:"text",selected:this.state.tgl_awal,onChange:function(e){return t.setStartDate(e)},placeholder:"Masukan Tanggal Dari"})),d.a.createElement("div",{className:"col-lg-4"},d.a.createElement(m.a,{name:"tgl_akhir",component:g.c,type:"text",selected:this.state.tgl_akhir,onChange:function(e){return t.setLastDate(e)},label:"Tanggal Akhir",placeholder:"Masukan Tanggal Akhir"})),d.a.createElement("div",{className:"col-lg-4 text"},d.a.createElement("div",{className:"text-right"},d.a.createElement("label",null,"\xa0"),d.a.createElement("button",{type:"submit",value:"PDF",name:"type_btn",className:"btn btn-primary btn-block"},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Mencari"):"Cari Laporan"))),d.a.createElement("div",{className:"col-lg-12"},d.a.createElement(p.a,{keyField:"no_hp",data:this.props.dataAuthorization,columns:[{dataField:"user_id",text:"User Id",footerAttrs:{colSpan:"4"}},{dataField:"kategori",text:"Kategori"},{dataField:"description",text:"Deskripsi"},{dataField:"keterangan",text:"Keterangan"}],empty:!0,textEmpty:"Data Laporan Otorisasi Kosong"})),d.a.createElement("div",{className:this.props.dataAuthorization.length>0?"col-lg-12":"col-lg-12 d-none"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement("button",{type:"button",onClick:function(){return v(t.props.dataAuthorization)},className:"btn btn-warning btn-block"}," ","Export PDF"," ")),d.a.createElement("div",{className:"col-lg-6"})))),this.props.isLoading?d.a.createElement(f.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),a}(s.Component);S=Object(b.a)({form:"HeadLaporanAuthorization",enableReinitialize:!0})(S);var k=Object(u.b)(function(t){return{initialValues:{tgl_awal:Object(h.j)(),tgl_akhir:Object(h.j)()}}})(S),j=a(18),w=function(t){Object(l.a)(a,t);var e=Object(r.a)(a);function a(t){var i;return Object(n.a)(this,a),(i=e.call(this,t)).state={isLoading:!1,export:!1,dataAuthorization:[]},i.handleSubmit=i.handleSubmit.bind(Object(o.a)(i)),i}return Object(i.a)(a,[{key:"handleSubmit",value:function(t){var e=this,a={tgl_awal:Object(c.B)(Object(c.R)(new Date(t.tgl_awal)).format("YYYY-MM-DD")),tgl_akhir:Object(c.B)(Object(c.R)(new Date(t.tgl_akhir)).format("YYYY-MM-DD"))};this.setState({isLoading:!0}),Object(j.e)("authorization/reports?tanggal[gte]=".concat(a.tgl_awal,"&tanggal[lte]=").concat(a.tgl_akhir)).then(function(t){0===t.data.length?(Object(c.v)("info","Data Yang Di Cari Tidak Ada !!!"),e.setState({dataAuthorization:[],isLoading:!1})):(Object(c.v)("success","Laporan Otorisasi Tersedia"),e.setState({dataAuthorization:t.data,isLoading:!1}))}).catch(function(t){Object(c.v)("info","Data Yang Di Cari Tidak Ada !!!")})}},{key:"render",value:function(){var t=this;return c.o.createElement("div",null,c.o.createElement("ol",{className:"breadcrumb float-xl-right"},c.o.createElement("li",{className:"breadcrumb-item"},c.o.createElement(c.h,{to:"#"},"Laporan")),c.o.createElement("li",{className:"breadcrumb-item active"},"Laporan Otorisasi")),c.o.createElement("h1",{className:"page-header"},"Laporan Otorisasi "),c.o.createElement(c.l,null,c.o.createElement(c.n,null,"Laporan Otorisasi"),c.o.createElement("br",null),c.o.createElement("div",{className:"container"},c.o.createElement(k,{dataAuthorization:this.state.dataAuthorization,onSubmit:function(e){return t.handleSubmit(e)},export:this.state.export,isLoading:this.state.isLoading})),c.o.createElement("br",null)))}}]),a}(c.o.Component);w=Object(c.Y)({form:"LaporanOtorisasi",enableReinitialize:!0})(w);e.default=Object(c.w)(function(t){return{initialValues:{tgl_awal:Object(c.I)(),tgl_akhir:Object(c.I)()}}})(w)}}]);
//# sourceMappingURL=85.98bbf45a.chunk.js.map