{"version":3,"sources":["pages/Kasir/ValidasiJualBeli/HeadValidasiJualBeli.jsx","pages/Kasir/ValidasiJualBeli/FormValidasiJualBeli.jsx","pages/Kasir/ValidasiJualBeli/pdf/CetakFakturJualBeli.jsx","assets/image-not-found.png"],"names":["HeadValidasiJualBeli","props","_this","Object","classCallCheck","this","_super","call","state","isLoading","DataValidasi","btnValidasi","kode_sales","warna","dispatch","getDataSales","saveValidasiJual","length","saveValidasiBeli","saveValidasiTitipan","localStorage","setItem","JSON","stringify","getDetaValidasi","_this2","setState","postData2","then","res","data","pembelian","penjualan","ToastNotification","change","forEach","element","harga_total","harga","disableButtonValidasi","catch","err","saveValidasiPesanan","selectRowPenjualan","mode","clickToSelect","selectColumnPosition","onSelect","row","isSelect","rowIndex","e","hasil","no_faktur_group","cek","parse","getItem","findIndex","push","splice","onSelectAll","list","index","selectRowPembelian","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","key","preventDefault","className","panel","tabel","selectRow","keyField","columns","columnsJual","empty","columnsBeli","disabled","type","Fragment","isLoadingBtl","onClick","btnClear","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","DataSales","datamaster","hutang","FormValidasiJualBeli","dataField","text","footer","cell","num","footerAttrs","colSpan","formatter","toFixed","columnData","reduce","acc","item","headerClasses","toLocaleString","parseFloat","columnsTitipan","columnsPesanan","bind","assertThisInitialized","setTimeout","removeItem","reset","_this3","validasi_jual","validasi_beli","penjualan_tmp","pembelian_tmp","postDataNoTImeOut","notajual","CetakFakturJualBeli","notabeli","feedback","jml_alamat","head","n_alamat_customer","concat","tgl_system","nama_customer","no_hp","slice","total","harga_nota","detail","no_faktur_beli","kode_dept","nama_barang","berat","document","getElementById","value","join","TextFile","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","_this4","react_router_dom","to","style","display","id","rows","cols","ValidasiJualBeli_HeadValidasiJualBeli","React","bwip_js__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","bwip_js__WEBPACK_IMPORTED_MODULE_0___default","n","jspdf__WEBPACK_IMPORTED_MODULE_1__","_assets_image_not_found_png__WEBPACK_IMPORTED_MODULE_3__","_assets_image_not_found_png__WEBPACK_IMPORTED_MODULE_3___default","arguments","undefined","doc","jsPDF","setFontSize","setProperties","title","setFont","Faktur","setTextColor","status","jenis","position_x","position_y","splitTextToSize","isi","width","parseInt","rotate","addImage","height","notFound","BwipJs","toCanvas","bcid","scale","includetext","textxalign","dataURL","toDataURL","addPage","string","output","x","window","open","write","module","exports"],"mappings":"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","file":"static/js/19.18e082c8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { reduxForm } from \"redux-form\";\nimport { getDataSales } from \"../../../actions/datamaster_action\";\nimport {  postData2 } from \"../../../config/axios\";\nimport { ToastNotification } from \"../../../components/helpers/notification\";\nimport Tabel from \"../../../components/helpers/tabel\";\nimport {\n  disableButtonValidasi,\n  saveValidasiBeli,\n  saveValidasiJual,\n  saveValidasiPesanan,\n  saveValidasiTitipan,\n} from \"../../../actions/hutang_action\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel\";\nimport Loading from 'react-fullscreen-loading';\n\nconst maptostate = (state) => {\n  // let hasil = parseInt(localStorage.getItem('total_harga_jual')) - parseInt(localStorage.getItem('total_harga_beli'))\n  // let datausersvalidasi = localStorage.getItem('datausersvalidasi')===null ? [] : JSON.parse(localStorage.getItem('datausersvalidasi'));\n  return {\n    DataSales: state.datamaster.getDataSales,\n    saveValidasiBeli: state.hutang.saveValidasiBeli,\n    saveValidasiJual: state.hutang.saveValidasiJual,\n    saveValidasiTitipan: state.hutang.saveValidasiTitipan,\n    saveValidasiPesanan: state.hutang.saveValidasiPesanan,\n    btnValidasi: state.hutang.disableButtonValidasi,\n  };\n};\nclass HeadValidasiJualBeli extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      DataValidasi: [],\n      btnValidasi: false,\n      kode_sales: false,\n      warna :false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getDataSales());\n    // this.props.dispatch(disableButtonValidasi());\n    if (this.props.saveValidasiJual.length === 0 && this.props.saveValidasiBeli.length === 0 && this.props.saveValidasiTitipan.length === 0) {\n      localStorage.setItem(\n        \"validasi_jual\",\n        JSON.stringify([])\n      );\n      localStorage.setItem(\n        \"validasi_beli\",\n        JSON.stringify([])\n      );\n      localStorage.setItem(\n        \"validasi_titipan\",\n        JSON.stringify([])\n      );\n    }\n    this.getDetaValidasi()\n  }\n  // getDataSales(e) {\n  //   localStorage.setItem(\n  //     \"validasi_jual\",\n  //     JSON.stringify([])\n  //   );\n  //   localStorage.setItem(\n  //     \"validasi_beli\",\n  //     JSON.stringify([])\n  //   );\n  //   localStorage.setItem(\n  //     \"validasi_titipan\",\n  //     JSON.stringify([])\n  //   );\n  //   this.setState({\n  //     kode_sales: e,\n  //   });\n  //   getData(\"sales/get/by-kode-sales/\" + e)\n  //     .then((res) => {\n  //       // localStorage.setItem('datausersvalidasi',JSON.stringify(res.data))\n  //       this.props.change(\"nama_sales\", res.data.nama_sales);\n  //       this.props.dispatch(saveValidasiJual([]));\n  //       this.props.dispatch(saveValidasiBeli([]));\n  //     })\n  //     .catch((err) => {\n  //       ToastNotification(\"info\", \"Gagal Mengambil Data Ke server\");\n  //     });\n  // }\n  getDetaValidasi() {\n    this.setState({\n      isLoading: true,\n    });\n    // let hasil = {\n    //   kode_sales: this.state.kode_sales,\n    // };\n    // if (hasil.kode_sales === false) {\n    //   this.setState({\n    //     isLoading: false,\n    //   });\n    //   ToastNotification(\"info\", \"Kode Sales Harus Di pilih\");\n    //   return false;\n    // }\n    postData2(\"validasi/all\")\n      .then((res) => {\n        if (\n          res.data[0].pembelian.length === 0 &&\n          res.data[0].penjualan.length === 0\n          // res.data[0].titipan.length === 0 &&\n          // res.data[0].pesanan.length === 0\n        )\n        {\n          ToastNotification(\"info\", \"Belum Ada Data Yang Harus Di Validasi\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.change('grandtotal',0)\n        } else {\n          let harga_total = 0;\n          res.data[0].penjualan.forEach(element => {\n            harga_total = harga_total + element.harga_total\n          });\n\n          let harga = 0;\n          res.data[0].pembelian.forEach(element => {\n            harga = harga + element.harga\n          });\n\n          // let harga_total_titipan = 0;\n          // res.data[0].titipan.forEach(element => {\n          //   harga_total_titipan = harga_total_titipan + element.harga_total\n          // });\n\n          // let harga_total_pesanan = 0;\n          // res.data[0].titipan.forEach(element => {\n          //   harga_total_pesanan = harga_total_pesanan + element.harga_total\n          // });\n\n          // let hasil = Math.abs(parseInt(harga) - parseInt(harga_total));\n          // let hasil =parseInt(harga_total) - parseInt(harga) - parseInt(harga_total_titipan) - parseInt(harga_total_pesanan);\n          // // console.log(hasil);\n          // if (hasil < 0) {\n          //   // console.log('bener');\n          //   this.setState({\"warna\" : true})\n          // } else {\n          //   this.setState({\"warna\" : false})\n          // }\n          // this.props.change('grandtotal',hasil.toLocaleString(\"kr-KO\"))\n          // ToastNotification(\"success\", \"Data Validasi Tersedia\");\n          this.setState({\n            isLoading: false,\n          });\n          this.props.dispatch(disableButtonValidasi(true));\n          localStorage.setItem(\n            \"validasi_jual\",\n            JSON.stringify(res.data[0].penjualan)\n          );\n          localStorage.setItem(\n            \"validasi_beli\",\n            JSON.stringify(res.data[0].pembelian)\n          );\n          // localStorage.setItem(\n          //   \"validasi_titipan\",\n          //   JSON.stringify(res.data[0].titipan)\n          // );\n\n          \n          // let pesanan = [];\n          // res.data[0].pesanan.forEach(element => {\n          //     element.detail_barang.forEach(detail => {\n          //       let row = {\n          //         no_pesanan: element.no_pesanan,\n          //         kode_kategori : detail.kode_kategori,\n          //         perkiraan_berat : detail.perkiraan_berat,\n          //         perkiraan_kadar : detail.perkiraan_kadar,\n          //         harga_gram : detail.harga_gram,\n          //         harga_atribut : detail.harga_atribut,\n          //         ongkos : detail.ongkos,\n          //         sub_total : detail.sub_total,\n          //         keterangan : detail.keterangan,\n          //         deskripsi : detail.deskripsi,\n          //         deskripsi_contoh : detail.deskripsi_contoh,\n          //       }\n          //       pesanan.push(row)\n          //     });\n          // });\n\n          // localStorage.setItem(\n          //   \"validasi_pesanan\",\n          //   JSON.stringify(pesanan)\n          // );\n          this.props.dispatch(saveValidasiJual(res.data[0].penjualan));\n          this.props.dispatch(saveValidasiBeli(res.data[0].pembelian));\n          // this.props.dispatch(saveValidasiTitipan(res.data[0].titipan));\n          // this.props.dispatch(saveValidasiPesanan(pesanan));\n        }\n      })\n      .catch((err) => {\n        ToastNotification(\"info\", \"Terjadi Kesalahan Saat Request\");\n        this.setState({\n          isLoading: false,\n          DataValidasi: [],\n        });\n        this.props.dispatch(saveValidasiJual([]));\n        this.props.dispatch(saveValidasiBeli([]));\n        this.props.dispatch(saveValidasiTitipan([]));\n        this.props.dispatch(saveValidasiPesanan([]));\n        localStorage.setItem(\n          \"validasi_jual\",\n          JSON.stringify([])\n        );\n        localStorage.setItem(\n          \"validasi_beli\",\n          JSON.stringify([])\n        );\n        localStorage.setItem(\n          \"validasi_titipan\",\n          JSON.stringify([])\n        );\n        localStorage.setItem(\n          \"validasi_pesanan\",\n          JSON.stringify([])\n        );\n      });\n  }\n\n\n  render() {\n    const selectRowPenjualan = {\n      mode: \"checkbox\",\n      clickToSelect: true,\n      selectColumnPosition: \"left\",\n      onSelect: (row, isSelect, rowIndex, e) => {\n        // console.log(isSelect);\n        if (isSelect === true) {\n          let hasil = {\n            no_faktur_group: row.no_faktur_group,\n          };\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\n          let hasil_cek = cek.findIndex(\n            (hasil) => hasil.no_faktur_group === row.no_faktur_group\n          );\n          if (hasil_cek === -1) {\n            cek.push(hasil);\n            localStorage.setItem(\"data_validasi_jual\", JSON.stringify(cek));\n          }\n        } else {\n          // console.log();\n          if (localStorage.getItem(\"data_validasi_jual\") === null) {\n          } else {\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_jual\"));\n            data.splice(row.no_faktur_group, 1);\n            localStorage.setItem(\"data_validasi_jual\", JSON.stringify(data));\n          }\n        }\n      },\n      onSelectAll: (isSelect, data, e) => {\n        data.forEach((list, index) => {\n          if (isSelect === true) {\n            let hasil = {\n              no_faktur_group: list.no_faktur_group,\n            };\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\n            let hasil_cek = cek.findIndex(\n              (hasil) => hasil.no_faktur_group === list.no_faktur_group\n            );\n            if (hasil_cek === -1) {\n              cek.push(hasil);\n              localStorage.setItem(\"data_validasi_jual\", JSON.stringify(cek));\n            }\n          } else {\n            if (localStorage.getItem(\"data_validasi_jual\") === null) {\n            } else {\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_jual\"));\n              data.splice(list.no_faktur_group, 1);\n              localStorage.setItem(\"data_validasi_jual\", JSON.stringify(data));\n            }\n          }\n        });\n      },\n    };\n    const selectRowPembelian = {\n      mode: \"checkbox\",\n      clickToSelect: true,\n      selectColumnPosition: \"left\",\n      onSelect: (row, isSelect, rowIndex, e) => {\n        // console.log(isSelect);\n        if (isSelect === true) {\n          let hasil = {\n            no_faktur_group: row.no_faktur_group,\n          };\n          let cek = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\n          let hasil_cek = cek.findIndex(\n            (hasil) => hasil.no_faktur_group === row.no_faktur_group\n          );\n          if (hasil_cek === -1) {\n            cek.push(hasil);\n            localStorage.setItem(\"data_validasi_beli\", JSON.stringify(cek));\n          }\n        } else {\n          // console.log();\n          if (localStorage.getItem(\"data_validasi_beli\") === null) {\n          } else {\n            let data = JSON.parse(localStorage.getItem(\"data_validasi_beli\"));\n            data.splice(row.no_faktur_group, 1);\n            localStorage.setItem(\"data_validasi_beli\", JSON.stringify(data));\n          }\n        }\n      },\n      onSelectAll: (isSelect, data, e) => {\n        data.forEach((list, index) => {\n          if (isSelect === true) {\n            let hasil = {\n              no_faktur_group: list.no_faktur_group,\n            };\n            let cek = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\n            let hasil_cek = cek.findIndex(\n              (hasil) => hasil.no_faktur_group === list.no_faktur_group\n            );\n            if (hasil_cek === -1) {\n              cek.push(hasil);\n              localStorage.setItem(\"data_validasi_beli\", JSON.stringify(cek));\n            }\n          } else {\n            if (localStorage.getItem(\"data_validasi_beli\") === null) {\n            } else {\n              let data = JSON.parse(localStorage.getItem(\"data_validasi_beli\"));\n              data.splice(list.no_faktur_group, 1);\n              localStorage.setItem(\"data_validasi_beli\", JSON.stringify(data));\n            }\n          }\n        });\n      },\n    };\n    return (\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\n      onKeyPress={(e) => {\n        e.key === \"Enter\" && e.preventDefault();\n      }}\n      >\n        <div className=\"row\">\n          {/* <div className=\"col-3\">\n            <Field\n              name=\"kode_sales\"\n              onChange={(e) => this.getDataSales(e)}\n              label=\"Pilih Kode Sales\"\n              placeholder=\"Masukan Kode Sales\"\n              options={this.props.DataSales.map((list) => {\n                let data = {\n                  value: list.kode_sales,\n                  name: list.nama_sales,\n                };\n                return data;\n              })}\n              component={ReanderSelect}\n            />\n          </div>\n          <div className=\"col-3\">\n            <Field\n              name=\"nama_sales\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Nama Sales\"\n              placeholder=\"Masukan Nama Sales\"\n              readOnly={true}\n            />\n          </div>\n          <div className=\"col-3\">\n            <Field\n              name=\"grandtotal\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Grand Total\"\n              placeholder=\"Grand Total\"\n              readOnly={true}\n              customeCss={this.state.warna ? \"customeInput\" : \"\"}\n            />\n          </div>\n          <div className=\"col-3\">\n            <label>&nbsp;</label>\n            <button\n              onClick={() => this.getDetaValidasi()}\n              className=\"btn btn-primary btn-block\"\n              disabled={this.state.isLoading}\n              type=\"button\"\n            >\n              {this.state.isLoading ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cari Data\n                </>\n              ) : (\n                \"Cari Data\"\n              )}\n            </button>\n          </div> */}\n          {/* <div className=\"col-3\">\n          <Field\n              name=\"grand_total\"\n              component={ReanderField}\n              type=\"text\"\n              label=\"Grand Total\"\n              placeholder=\"Grand Total\"\n              readOnly={true}\n            />\n          </div> */}\n          <div className=\"col-12\">\n            <Panel>\n              <PanelHeader>List Data Penjualan</PanelHeader>\n              <br />\n              <Tabel\n                selectRow={selectRowPenjualan}\n                keyField=\"no_faktur_jual\"\n                columns={this.props.columnsJual}\n                data={this.props.saveValidasiJual || []}\n                empty={true}\n              />\n            </Panel>\n          </div>\n          <div className=\"col-12\">\n            <Panel>\n              <PanelHeader>List Data Pembelian</PanelHeader>\n              <br />\n              <Tabel\n                selectRow={selectRowPembelian}\n                keyField=\"no_faktur_beli\"\n                columns={this.props.columnsBeli}\n                data={this.props.saveValidasiBeli || []}\n                empty={true}\n              />\n            </Panel>\n          </div>\n          {/* <div className=\"col-12\">\n            <Panel>\n              <PanelHeader>List Data Titipan</PanelHeader>\n              <br />\n              <Tabel\n                keyField=\"kode_dept\"\n                columns={this.props.columnsTitipan}\n                data={this.props.saveValidasiTitipan || []}\n                empty={true}\n              />\n            </Panel>\n          </div>\n          <div className=\"col-12\">\n            <Panel>\n              <PanelHeader>List Data Pesanan</PanelHeader>\n              <br />\n              <Tabel\n                keyField=\"kode_dept\"\n                columns={this.props.columnsPesanan}\n                data={this.props.saveValidasiPesanan || []}\n                empty={true}\n              />\n            </Panel>\n          </div> */}\n          <div className=\"col-6\">\n            {this.props.btnValidasi === false ? (\n              <button\n                className=\"btn btn-primary btn-block\"\n                disabled={true}\n                type=\"button\"\n              >\n                Validasi\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-primary btn-block\"\n                disabled={this.props.isLoading}\n                type=\"submit\"\n              >\n                {this.props.isLoading ? (\n                  <>\n                    <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Validasi\n                  </>\n                ) : (\n                  \"Validasi\"\n                )}\n              </button>\n            )}\n          </div>\n          <div className=\"col-6\">\n            <button\n              className=\"btn btn-warning btn-block\"\n              disabled={this.props.isLoadingBtl}\n              onClick={this.props.btnClear}\n              type=\"button\"\n            >\n              {this.props.isLoadingBtl ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Batal\n                </>\n              ) : (\n                \"Batal\"\n              )}\n            </button>\n          </div>\n        </div>\n        {this.props.isLoading || this.props.isLoadingBtl || this.state.isLoading ? (\n        <Loading \n        loading\n        background=\"rgba(0, 0, 0, 0.35)\"\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\n      ) : null}\n      </form>\n    );\n  }\n}\n\nHeadValidasiJualBeli = reduxForm({\n  form: \"HeadValidasiJualBeliHutang\",\n  enableReinitialize: true,\n})(HeadValidasiJualBeli);\nexport default connect(maptostate, null)(HeadValidasiJualBeli);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { reduxForm, reset } from \"redux-form\";\nimport {\n  disableButtonValidasi,\n  saveValidasiBeli,\n  saveValidasiJual,\n  // saveValidasiPesanan,\n  // saveValidasiTitipan,\n} from \"../../../actions/hutang_action.jsx\";\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\nimport { postDataNoTImeOut } from \"../../../config/axios.jsx\";\nimport HeadValidasiJualBeli from \"./HeadValidasiJualBeli.jsx\";\nimport CetakFakturJualBeli from \"./pdf/CetakFakturJualBeli.jsx\";\n\nclass FormValidasiJualBeli extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isLoadingBtl: false,\n      columnsJual: [\n        {\n          dataField: \"no_faktur_jual\",\n          text: \"No FJ\",\n          footer: (cell, row, num, index) => {\n            return (\n              <div>\n                Total Barang :{\" \"}\n                {JSON.parse(localStorage.getItem(\"validasi_jual\")) === null\n                  ? 0\n                  : JSON.parse(localStorage.getItem(\"validasi_jual\")).length ||\n                    0}{\" \"}\n              </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_barcode\",\n          text: \"Kode Barcode \",\n        },\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n          footer: \"\",\n          footerAttrs: {\n            colSpan: \"3\",\n          },\n        },\n        {\n          dataField: \"nama_atribut\",\n          text: \"Nama Atribut\",\n        },\n       \n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        // {\n        //   dataField: \"ongkos\",\n        //   text: \"Ongkos\",\n        //   headerClasses: 'text-right',\n        //   formatter: (cell) => {\n        //     return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n        //   },\n        //   footer: (columnData) => {\n        //     return <div className=\"text-right\"> { columnData\n        //       .reduce((acc, item) => acc + item, 0)\n        //       .toLocaleString(\"kr-KO\")  }</div>;\n        //   },\n        // },\n        {\n          dataField: \"harga_total\",\n          text: \"Harga\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            localStorage.setItem(\n              \"total_harga_beli\",\n              columnData.reduce((acc, item) => acc + item, 0)\n            );\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n      ],\n      columnsBeli: [\n        {\n          dataField: \"no_faktur_beli\",\n          text: \"No FB \",\n          // footer: \"Total Barang\",\n          footer: (cell, row, num, index) => {\n            return (\n              <div>\n                Total Barang :{\" \"}\n                {JSON.parse(localStorage.getItem(\"validasi_beli\")) === null\n                  ? 0\n                  : JSON.parse(localStorage.getItem(\"validasi_beli\")).length ||\n                    0}{\" \"}\n              </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_dept\",\n          text: \"Kode Jenis \",\n        },\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n          footer: \"\",\n          footerAttrs: {\n            colSpan: \"3\",\n          },\n        },\n        {\n          dataField: \"kondisi\",\n          text: \"Kondisi\",\n        },\n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        {\n          dataField: \"harga\",\n          text: \"Harga\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            localStorage.setItem(\n              \"total_harga_beli\",\n              columnData.reduce((acc, item) => acc + item, 0)\n            );\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n      ],\n      columnsTitipan: [\n        {\n          dataField: \"no_titip_group\",\n          text: \"No Titipan\",\n          // footer: \"Total Barang\",\n          footer: (cell, row, num, index) => {\n            return (\n              <div>\n                Total Barang :{\" \"}\n                {JSON.parse(localStorage.getItem(\"validasi_titipan\")) === null\n                  ? 0\n                  : JSON.parse(localStorage.getItem(\"validasi_titipan\")).length ||\n                    0}{\" \"}\n              </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_dept\",\n          text: \"Kode Jenis \",\n        },\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n          footer: \"\",\n          footerAttrs: {\n            colSpan: \"3\",\n          },\n        },\n        {\n          dataField: \"kondisi\",\n          text: \"Kondisi\",\n        },\n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        {\n          dataField: \"total_dp\",\n          text: \"Total Dp\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n        {\n          dataField: \"harga_total\",\n          text: \"Total Transaksi\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            localStorage.setItem(\n              \"total_harga_beli\",\n              columnData.reduce((acc, item) => acc + item, 0)\n            );\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n      ],\n      columnsPesanan: [\n        {\n          dataField: \"no_pesanan\",\n          text: \"No Pesanan\",\n          // footer: \"Total Barang\",\n          footerAttrs: {\n            colSpan: \"3\",\n          },\n          footer: (cell, row, num, index) => {\n            return (\n              <div>\n                Total Barang :{\" \"}\n                {JSON.parse(localStorage.getItem(\"validasi_pesanan\")) === null\n                  ? 0\n                  : JSON.parse(localStorage.getItem(\"validasi_pesanan\")).length ||\n                    0}{\" \"}\n              </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_kategori\",\n          text: \"Kode Kategori \",\n        },\n    \n        {\n          dataField: \"perkiraan_kadar\",\n          text: \"Perkiraan Kadar\",\n        },\n        {\n          dataField: \"harga_gram\",\n          text: \"Harga / Gram\",\n          formatter: (cell) => {\n            return cell.toLocaleString(\"kr-KO\");\n          },\n          footer: (columnData) =>\n          columnData.reduce((acc, item) => acc + item, 0).toLocaleString(\"kr-KO\"),\n        },\n        {\n          dataField: \"perkiraan_berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n          columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        {\n          dataField: \"deskripsi_contoh\",\n          text: \"Deskripsi\",\n        },\n        {\n          dataField: \"sub_total\",\n          text: \"Total\",\n          headerClasses: 'text-right',\n          footer: (columnData) => {\n            localStorage.setItem(\n              \"total_harga_beli\",\n              columnData.reduce((acc, item) => acc + item, 0)\n            );\n            return <div className=\"text-right\"> { columnData\n              .reduce((acc, item) => acc + item, 0)\n              .toLocaleString(\"kr-KO\")  }</div>;\n          },\n          formatter: (cell) => {\n            return <div className=\"text-right\">{parseFloat(cell).toLocaleString(\"kr-KO\")}</div>;\n          },\n        },\n      ],\n    };\n    // no_pesanan: element.no_pesanan,\n    // kode_kategori : detail.kode_kategori,\n    // perkiraan_berat : detail.perkiraan_berat,\n    // perkiraan_kadar : detail.perkiraan_kadar,\n    // harga_gram : detail.harga_gram,\n    // harga_atribut : detail.harga_atribut,\n    // ongkos : detail.ongkos,\n    // sub_total : detail.sub_total,\n    // keterangan : detail.keterangan,\n    // deskripsi : detail.deskripsi,\n    // deskripsi_contoh : detail.deskripsi_contoh,\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.btnClear = this.btnClear.bind(this);\n  }\n\n  btnClear() {\n    this.setState({\n      isLoadingBtl: true,\n    });\n    setTimeout(() => {\n      localStorage.removeItem(\"validasi_titipan\");\n      localStorage.removeItem(\"validasi_jual\");\n      localStorage.removeItem(\"validasi_beli\");\n      this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n      this.props.dispatch(saveValidasiJual([]));\n      this.props.dispatch(saveValidasiBeli([]));\n      this.props.dispatch(disableButtonValidasi(false));\n      this.setState({\n        isLoadingBtl: false,\n      });\n    }, 1000);\n  }\n  componentWillUnmount() {\n    this.props.dispatch(saveValidasiJual([]));\n    this.props.dispatch(saveValidasiBeli([]));\n  }\n  componentDidMount(){\n    localStorage.setItem(\"validasi_jual\", \"[]\")\n    localStorage.setItem(\"data_validasi_jual\", \"[]\")\n    localStorage.setItem(\"validasi_beli\", \"[]\")\n    localStorage.setItem(\"data_validasi_beli\", \"[]\")\n  }\n  handleSubmit(data) {\n    // let validasi_titipan = JSON.parse(localStorage.getItem(\"validasi_titipan\"));\n    let validasi_jual = JSON.parse(localStorage.getItem(\"data_validasi_jual\")) || [];\n    let validasi_beli = JSON.parse(localStorage.getItem(\"data_validasi_beli\")) || [];\n    if(validasi_jual.length === 0 && validasi_beli.length === 0){\n      ToastNotification(\"info\", \"Data yang akan divalidasi kosong, Silahkan pilih minimal 1 faktur.\")\n      return false;\n    }\n    // let validasi_pesanan = JSON.parse(localStorage.getItem(\"validasi_pesanan\"));\n    let penjualan = [];\n    // let titipan = [];\n    let pembelian = [];\n    // let pesanan = [];\n\n    // if (validasi_titipan.length === 0) {\n    //   titipan = [];\n    // } else {\n    //   validasi_titipan.forEach((item, index) => {\n    //     let titipan_tmp = { no_faktur_group: item.no_faktur_group };\n    //     titipan.push(titipan_tmp);\n    //   });\n    // }\n    if (validasi_jual.length === 0) {\n      penjualan = [];\n    } else {\n      validasi_jual.forEach((item, index) => {\n        let penjualan_tmp = { no_faktur_group: item.no_faktur_group };\n        penjualan.push(penjualan_tmp);\n      });\n    }\n\n    if (validasi_beli.length === 0) {\n      pembelian = [];\n    } else {\n      validasi_beli.forEach((item, index) => {\n        let pembelian_tmp = { no_faktur_group: item.no_faktur_group };\n        pembelian.push(pembelian_tmp);\n      });\n    }\n    let hasil = {\n      penjualan: penjualan,\n      pembelian: pembelian,\n    };\n    // let hasil2 = {\n    //   titipan: validasi_titipan,\n    // }\n    // let hasil3 = {\n    //   pesanan: validasi_pesanan,\n    // }\n\n//     postData2(\"pesanan/validate\", hasil3).then((res) => {\n//       ToastNotification('success', res.data);\n//       localStorage.removeItem(\"validasi_pesanan\");\n//       this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n//       this.props.dispatch(saveValidasiPesanan([]));\n//       this.props.dispatch(disableButtonValidasi(false));\n// if (res.data.length !== 0) {\n// let notapesanan = [];\n// for (let index = 0; index < 2; index++) {  \n// let feedback = '';\n// res.data.forEach((row, index) => {\n// feedback += `========================================\\n`\n// feedback += `               NOTA PESANAN             \\n`\n// feedback += `========================================\n// Tanggal          : ${row.tanggal}\n// Nama Customer    : ${row.nama_customer}\n// No Hp            : ${row.no_hp}\\n`\n// feedback += `========================================\\n`\n// feedback += `Keterangan\\n`\n// feedback += `========================================\\n`\n// row.detail_barang.forEach((detail, index) => {\n// feedback += `No Faktur Pesanan  : ${row.no_pesanan}\\n`\n// // feedback += `Nama Barang        : ${detail.nama_barang}\\n`\n// feedback += `Dp                 : ${row.dp.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `Estimasi Pesanan   : ${row.estimasi_tanggal}\\n`\n// feedback += `========================================\\n`})\n// feedback += `\n\n\n\n// `\n// })\n// notapesanan.push(feedback)\n// }\n// document.getElementById(\"nota_pesanan\").value = notapesanan.join('');;\n// setTimeout(() => {\n// this.TextFilenotapesanan();\n// }, 100);\n// }\n//     }).catch((err) => {\n//       console.log(err);\n//   ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\n// })\n\n//     postData2(\"titip/validate\", hasil2).then((res) => {\n//       // console.log(res.data);\n//       ToastNotification('success', 'Validasi Titipan Berhasil');\n//       localStorage.removeItem(\"validasi_titipan\");\n//       this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n//       this.props.dispatch(saveValidasiTitipan([]));\n//       this.props.dispatch(disableButtonValidasi(false));\n// if (res.data.length !== 0) {\n// let notatitip = [];\n// for (let index = 0; index < 2; index++) {  \n// let feedback = '';\n// res.data.forEach((row, index) => {\n// let jml_alamat = row.alamat_customer.length;\n// feedback += `========================================\\n`\n// feedback += `               NOTA TITIPAN             \\n`\n// feedback += `========================================\n// Tanggal          : ${row.tanggal}\n// Nama Customer    : ${row.nama_customer}\n// No Hp            : ${row.no_hp}\n// Alamat Customer  : ${row.alamat_customer.slice(0,20)}\\n`\n// if(jml_alamat>20){\n// feedback += `                   ${row.alamat_customer.slice(20,40)}\\n`;\n// }\n// if(jml_alamat>40){\n// feedback += `                   ${row.alamat_customer.slice(40,60)}\\n`;\n// }\n// feedback += `========================================\\n`\n// feedback += `Keterangan\\n`\n// feedback += `========================================\\n`\n// row.detail_barang.forEach((detail, index) => {\n// feedback += `No Faktur Titip    : ${row.no_titip_group}\\n`\n// feedback += `Nama Barang        : ${detail.nama_barang}\\n`\n// feedback += `Total Transaksi    : ${row.total_harga.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `Dp                 : ${row.dp.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `Sisa               : ${row.sisa.toLocaleString(\"kr-KO\")}\\n`\n// feedback += `========================================\\n`})\n// feedback += `\n\n\n\n// `\n// })\n//   notatitip.push(feedback)\n// }\n// document.getElementById(\"nota_titip\").value = notatitip.join('');;\n// setTimeout(() => {\n// this.TextFilenotatitip();\n// }, 100);\n// }\n\n//     }).catch((err) => {\n//         ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\n//     })\n    postDataNoTImeOut(\"validasi/simpan/jualbeli\", hasil)\n      .then((res) => {\n        // return false;\n        if (res.data.notajual.length !== 0) {\n          CetakFakturJualBeli(res.data);\n        }\nif (res.data.notabeli.length !== 0) {\n// console.log(res.data.notabeli);\nlet notabeli = [];\nfor (let index = 0; index < 2; index++) {\nlet feedback = '';\nres.data.notabeli.forEach((row, index) => {\nlet jml_alamat = row.head.n_alamat_customer.length;\nfeedback += `========================================\\n`;\nfeedback += `              NOTA PEMBELIAN            \\n`\nfeedback += `========================================\nTanggal          : ${row.head.tgl_system}\nNama Customer    : ${row.head.nama_customer}\nNo Hp            : ${row.head.no_hp}\nAlamat Customer  : ${row.head.n_alamat_customer.slice(0,20)}\\n`\nif(jml_alamat>20){\nfeedback += `                   ${row.head.n_alamat_customer.slice(20,40)}\\n`;\n}\nif(jml_alamat>40){\nfeedback += `                   ${row.head.n_alamat_customer.slice(40,60)}\\n`;\n}\nfeedback += `========================================\\n`\nfeedback += `Keterangan\\n`\nfeedback += `========================================\\n`\nlet total = 0;\nlet harga_nota = 0;\nrow.detail.forEach((detail, index) => {\ntotal = total + detail.harga;\nharga_nota = harga_nota + detail.harga_nota;\nfeedback += `No Faktur Beli : ${detail.no_faktur_beli}\\n`\nfeedback += `Jenis Barang   : ${detail.kode_dept}\\n`\nfeedback += `Nama Barang    : ${detail.nama_barang}\\n`\nfeedback += `Berat          : ${detail.berat.toFixed(3)}\\n`\nfeedback += `Harga          : ${detail.harga.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `========================================\\n`\n})\nfeedback += `Total          : ${total.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `========================================\\n`\nfeedback += `Harga Waktu Beli   : ${total.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `Harga Waktu Jual   : ${harga_nota.toLocaleString(\"kr-KO\")}\\n`\nfeedback += `========================================\\n`\nfeedback += `\n\n\n\n`\n})\n  notabeli.push(feedback)\n}\n  \n          document.getElementById(\"myInput\").value = notabeli.join('');\n        setTimeout(() => {\n          this.TextFile();\n        }, 100);\n}\n        localStorage.removeItem(\"validasi_jual\");\n        localStorage.removeItem(\"validasi_beli\");\n        this.props.dispatch(reset(\"HeadValidasiJualBeliHutang\"));\n        this.props.dispatch(saveValidasiJual([]));\n        this.props.dispatch(saveValidasiBeli([]));\n        this.props.dispatch(disableButtonValidasi(false));\n        ToastNotification(\"success\", \"Validasi Transaksi Berhasil\");\n      })\n      .catch((err) => {\n        // console.log(err.response.data);\n        ToastNotification(\"info\", \"Terjadi Kesalahaan Saat Mengirim Data\");\n      });\n  }\n  TextFile() {\n    const element = document.createElement(\"a\");\n    const file = new Blob([document.getElementById(\"myInput\").value], {\n      type: \"text/plain;charset=utf-8\",\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = \"autoprint_pembelian.txt\";\n    document.body.appendChild(element);\n    element.click();\n  }\n  // TextFilenotatitip() {\n  //   const element = document.createElement(\"a\");\n  //   const file = new Blob([document.getElementById(\"nota_titip\").value], {\n  //     type: \"text/plain;charset=utf-8\",\n  //   });\n  //   element.href = URL.createObjectURL(file);\n  //   element.download = \"autoprint_titipan.txt\";\n  //   document.body.appendChild(element);\n  //   element.click();\n  // }\n  TextFilenotapesanan() {\n    const element = document.createElement(\"a\");\n    const file = new Blob([document.getElementById(\"nota_pesanan\").value], {\n      type: \"text/plain;charset=utf-8\",\n    });\n    element.href = URL.createObjectURL(file);\n    element.download = \"autoprint_pesanan.txt\";\n    document.body.appendChild(element);\n    element.click();\n  }\n\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Kasir</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Validasi</li>\n        </ol>\n        <h1 className=\"page-header\">Validasi </h1>\n        <Panel>\n          <PanelHeader>Validasi</PanelHeader>\n          <textarea\n            style={{ display: \"none\" }}\n            id=\"myInput\"\n            rows=\"100\"\n            cols=\"100\"\n          />\n          <textarea\n            style={{ display: \"none\" }}\n            id=\"nota_titip\"\n            rows=\"100\"\n            cols=\"100\"\n          />\n          <textarea\n            style={{ display: \"none\" }}\n            id=\"nota_pesanan\"\n            rows=\"100\"\n            cols=\"100\"\n          />\n\n          <br />\n          {/* Validasi Jual Beli */}\n          {/* <button onClick={()=>this.cetakFaktur()}> Print </button> */}\n          <div className=\"container\">\n            <HeadValidasiJualBeli\n              onSubmit={(data) => this.handleSubmit(data)}\n              btnClear={() => this.btnClear()}\n              isLoadingBtl={this.state.isLoadingBtl}\n              columnsBeli={this.state.columnsBeli}\n              columnsJual={this.state.columnsJual}\n              columnsTitipan={this.state.columnsTitipan}\n              columnsPesanan={this.state.columnsPesanan}\n            />\n          </div>\n          <br />\n          {/* End Tambah Validasi Jual Beli  */}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nFormValidasiJualBeli = reduxForm({\n  form: \"FormValidasiJualBeli\",\n  enableReinitialize: true,\n})(FormValidasiJualBeli);\nexport default connect()(FormValidasiJualBeli);\n","import BwipJs from \"bwip-js\";\nimport jsPDF from \"jspdf\";\nimport \"jspdf-autotable\";\n\n// const base_url = JSON.parse(localStorage.getItem(\"base_url\"));\nimport notFound from \"../../../../assets/image-not-found.png\";\nconst CetakFakturJualBeli = (data = \"\", kode_baki = \"\") => {\n  // initialize jsPDF\n  const doc = new jsPDF();\n  //   let data = JSON.parse(localStorage.getItem(\"tt_pengeluaran_barang\")) || []\n  doc.setFontSize(15);\n  doc.setFontSize(10);\n  doc.setProperties({\n    title: \"Cetak Faktur Penjualan\",\n  });\n  doc.setFont(\"tahoma\");\n  // let notFound = base_url + \"image-not-found.png\";\n\n  data.notajual.forEach((row, index) => {\n    row.Faktur.forEach((list, index) => {\n      doc.setFontSize(80);\n      doc.setTextColor(220, 220, 220);\n      // doc.text(\n      //   300 * 0.2645833333,\n      //   300 * 0.2645833333,\n      //   doc.splitTextToSize(\"UM\", 200 * 0.2645833333)\n      // );\n      doc.setTextColor(0, 0, 0);\n      doc.setFontSize(10);\n      if(list.status===true){\n      if (list.jenis === \"text\") {\n        doc.text(\n          list.position_x * 0.2645833333,\n          (parseFloat(list.position_y) + 15) * 0.2645833333,\n          doc.splitTextToSize(list.isi, list.width * 0.2645833333),\n          null,\n          parseInt(list.rotate * -1)\n        );\n      } else if (list.jenis === \"gambar\") {\n        if (list.rotate > 0) {\n          doc.addImage(\n            list.isi,\n            \"jpg\",\n            list.position_x * 0.2645833333,\n            parseFloat(list.position_y) * 0.2645833333 -\n              list.width * 0.2645833333,\n            list.width * 0.2645833333,\n            list.height * 0.2645833333,\n            \"\",\n            \"\",\n            parseInt(list.rotate * -1)\n          );\n        } else {\n          doc.addImage(\n            list.isi,\n            \"jpg\",\n            list.position_x * 0.2645833333,\n            parseFloat(list.position_y) * 0.2645833333,\n            list.width * 0.2645833333,\n            list.height * 0.2645833333\n          );\n        }\n      } else {\n        if (list.rotate > 0) {\n          doc.addImage(\n            notFound,\n            \"JPEG\",\n            list.position_x * 0.2645833333,\n            parseFloat(list.position_y) * 0.2645833333 -\n              list.width * 0.2645833333 +\n              25,\n            list.width * 0.2645833333,\n            list.height * 0.2645833333,\n            \"\",\n            \"\",\n            parseInt(list.rotate * -1)\n          );\n          // doc.addImage(img.src, 'JPEG', list.position_x * 0.2645833333,\n          //   parseFloat(list.position_y) * 0.2645833333,\n          //   list.width * 0.2645833333 - 15,\n          //   list.height * 0.2645833333,\n          //  )\n        } else {\n          // console.log(list.isi);\n          BwipJs.toCanvas(\"itf\", {\n            bcid: \"code128\", // Barcode type\n            text: list.isi, // Text to encode\n            scale: 3, // 3x scaling factor\n            height: 10, // Bar height, in millimeters\n            includetext: false, // Show human-readable text\n            textxalign: \"center\", // Always good to set this\n          });\n          const img = document.getElementById(\"itf\");\n          var dataURL = img.toDataURL();\n          doc.addImage(\n          dataURL,\n          \"JPEG\",\n          list.position_x * 0.2645833333,\n          parseFloat(list.position_y) * 0.2645833333 -\n          list.width * 0.2645833333 + 25,\n          list.width * 0.2645833333,\n          list.height * 0.2645833333,\n          \"\",\n          \"\",\n          );\n        }\n        }\n      }\n    });\n    if (index < data.notajual.length - 1) {\n      doc.addPage();\n    }\n  });\n  // doc.text('NPWP 14.10.431.5-5001.000',8.2020833333,154.78125)\n  // doc.addImage(dataURL,\"JPEG\", 14, 25);\n  // doc.autoPrint();\n  // doc.save(`Cetak Faktur Penjualan.pdf`);\n  var string = doc.output(\"datauristring\");\n  // var embed = \"<embed width='100%' height='100%' src='\" + string + \"'/>\";\n  var x = window.open();\n  x.document.open();\n  x.document.write(\n    \"<html><head><title>Cetak Faktur Penjualan</title></head><body style='margin:0 !important'><embed width='100%' height='100%'  src=\" +\n      string +\n      \"></embed></body></html>\"\n  );\n  // x.document.write(embed);\n  // setInterval(() => {\n  //   x.close();\n  // }, 1000);\n};\n\nexport default CetakFakturJualBeli;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAGQCAMAAABF6+6qAAAAM1BMVEXz9Pa5vsrp6+/Q09vBxdDl5+vw8fS+ws66wMvi5enS1t3HzNXa3ePt7vHe4ebLz9jV2N8T7rePAAAEfklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD27m7HTRgIoLCHAHGG3/d/2q7SrSZtTRZs7ZJ4zncLEhcc2WAZAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4R924Xn6ejl0fUK1+bOUsV50C6tS1cqY4B9RolrNpQH3O70pkDajNFOUF3AIqs8graAPq0shr4AG+Mqu8hiGgKoPNRpefZ1ePAVWJ8mkJZ7ABswmoifzRhTP0D9dHRfrjI0ZVYeMTYeEtEBbuCAtvgbBwR1h4C8/D6rvbrZvC3wgLRWE1ayt3rT4eIyyUhDUt8mCZ7AhhIT+sOW5uHyYsZIc1PtnkSVjIDWuUhDH8RljIDKuL8i+79YSF3LBaSWr78IGwkBnWLCYxGRIW8sIann/xQFjICquRBDuHsJAX1ijydC4kLGSFpbLpEnbrVsLyLBHWIpuW/V1FUcJy7FhYw4GuRJSw/PqGEctWWJWw3Dr2jKX7u7pTwvIqEdZc+lZ4i1YiYTmVCGuSTdPOrowSlk+HVt6H3V0ZJSyXUmHdZMO8vyujhOVRIqzNIWs40pVRwnIoGVYTJSE2h7oySlj+JMNKT4bzwa6MEpY76bDCHDO7SlPC8iYRVvKfAm2X0ZVRwnJmK6zQrw+ZxLXP6sooYfnyX1imn5erfLguYx8yuzJKWK4kwzL91EzBHO/KKGF5shWWKezKKGE5UhqWdfU1JSw/CsOyrvZQwnKjLCzrah8lLC+KwrKu9lLCciIjrIyujBKWDxlh5XRllLBcyAgrqyujhOXB7rCasawro4TlwN6wmquMZV0ZJaz6fRWWdSUylnVllLCq94u9e8tNGIaiKBqXFCg4lPmPtjItMlLvV6zm4a41hq2rI/84CCvuqshtXVUXYfUuCivuqshtXVUXYXUuDCvuqshNXVUnYXUuCCvoqsqvXQmLWWHVrqpcuxIWM8OqXVX52ZWwmB1W7arK310Ji1lhxV0VuXQlLGaEVbuKHM5JWMwJq3YVExbzw6pdCYvGsOKuhEVjWHFXwqIxrLgrYdEYVtyVsGgMK+5KWDSGFXclLBrDirsSFo1hxV0Ji8aw4q6ERXtY1/SLsBAWWyAsCmGxD8KiEBb7ICwKYbEPwqIQFvsgLAphsQ/ColgirMO4AGF17jWsP+IX+/9IWDwIi10QFg/CYheExYOw2If0dBvW8PYSNj0Z04/Tx3FY3PuYnqaBnnymbRgHunJL23AZ6MrxlDbBxOpNTltwGOjNNa3vZLr3ZxrT2s4esXo0rX2zRgOrU/dzWtHhONCpY76u1NZ4d646N70tb3KsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOCrPTgkAAAAABD0/7UrbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvwBQ1zWzb+cicAAAAABJRU5ErkJggg==\""],"sourceRoot":""}