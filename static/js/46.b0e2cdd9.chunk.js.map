{"version":3,"sources":["Validasi/Barang/PindahBarangSatuBaki/ValidasiPindahBarangBaki.jsx","pages/Barang/PindahBarangSatuBaki/HeadPindahBarangSatuBaki.jsx","pages/Barang/PindahBarangSatuBaki/FormPindahBarangSatuBaki.jsx"],"names":["ValidasiPindahBarangBaki","value","errors","baki_asal","baki_tujuan","gudang_asal","gudang_tujuan","HeadPindahBarangSatuBaki","props","_this","Object","classCallCheck","this","_super","call","state","date","Date","isLoadingBaki","isLoadingBatal","bakigudangtujuan","loadingpencarian","jenis","_this2","dispatch","getDataGudang","getDataBaki","getDataJenis","change","setTimeout","setState","_this3","getDataNoTimeOut","then","res","data","length","ToastNotification","localStorage","setItem","JSON","stringify","setBarangPindahSatuBaki","catch","err","errorHandling","_this4","_this5","name","datajenis","forEach","element","row","kode_dept","push","react_default","a","createElement","onSubmit","handleSubmit","autoComplete","onKeyPress","e","key","preventDefault","className","Field","label","onChange","options","datagudang","filter","list","undefined","kode_gudang","map","nama_gudang","placeholder","component","ReanderSelect","databaki","kode_baki","nama_baki","field","disabled","submitting","onClick","filterLaporan","type","Fragment","tabel","keyField","exportCsv","parse","getItem","columns","empty","pagination","textEmpty","isLoading","batalHancur","loading_default","loading","background","loaderColor","Component","reduxForm","form","enableReinitialize","validate","connect","datamaster","databarang","FormPindahBarangSatuBaki","isEdit","modalDialog","dataField","text","footerAttrs","colSpan","footer","cell","num","index","formatter","toFixed","columnData","reduce","acc","item","bind","assertThisInitialized","id","Swal","fire","title","icon","position","cancelButtonText","showCancelButton","confirmButtonText","showConfirmButton","result","isConfirmed","splice","hasil","kode_toko","kode_gudang_asal","kode_toko_asal","postDataNoTImeOut","reset","error","errorhandling","test","response","react_router_dom","to","panel","PindahBarangSatuBaki_HeadPindahBarangSatuBaki","React"],"mappings":"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","file":"static/js/46.b0e2cdd9.chunk.js","sourcesContent":["const ValidasiPindahBarangBaki = (value) => {\n    const errors = {};\n    if (!value.baki_asal) {\n        errors.baki_asal = \"Baki Asal Tidak Boleh Kosong\";\n    }\n    if (!value.baki_tujuan) {\n        errors.baki_tujuan = \"Baki Tujuan Tidak Boleh Kosong\";\n    }\n    if (!value.gudang_asal) {\n        errors.gudang_asal = \"Gudang Asal Tidak Boleh Kosong\";\n    }\n    if (!value.gudang_tujuan) {\n        errors.gudang_tujuan = \"Gudang Tujuan Tidak Boleh Kosong\";\n    }\n\n    return errors;\n}\nexport default ValidasiPindahBarangBaki;\n\n\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { setBarangPindahSatuBaki } from \"../../../actions/databarang_action\";\nimport { getDataBaki, getDataGudang, getDataJenis } from \"../../../actions/datamaster_action\";\nimport {\n  ReanderSelect,\n  SkeletonLoading,\n} from \"../../../components/helpers/field\";\nimport { ToastNotification } from \"../../../components/helpers/notification\";\nimport Tabel from \"../../../components/helpers/tabel\";\nimport { getDataNoTimeOut } from \"../../../config/axios\";\nimport ValidasiPindahBarangBaki from \"../../../Validasi/Barang/PindahBarangSatuBaki/ValidasiPindahBarangBaki\";\nimport Loading from 'react-fullscreen-loading';\n\nconst maptostate = (state) => {\n  return {\n    datagudang: state.datamaster.getDataGudang,\n    datajenis: state.datamaster.getDataJenis,\n    databaki: state.datamaster.getDataBaki,\n    setBarangPindahSatuBaki: state.databarang.setBarangPindahSatuBaki,\n  };\n};\nclass HeadPindahBarangSatuBaki extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: new Date(),\n      isLoadingBaki: false,\n      isLoadingBatal: false,\n      bakigudangtujuan: false,\n      loadingpencarian: false,\n      jenis : \"ALL\"\n    };\n  }\n  componentDidMount() {\n    this.props.dispatch(getDataGudang());\n    this.props.dispatch(getDataBaki());\n    this.props.dispatch(getDataJenis());\n    this.props.change('jenis','ALL')\n\n    setTimeout(() => {\n      // document.getElementById('kode_gudang').p\n      this.setState({ gudang_asal: 'TOKO' });\n      this.props.change('gudang_asal','TOKO')\n    }, 100);\n  }\n\n  filterLaporan() {\n    this.setState({ loadingpencarian: true });\n    this.setState({ bakigudangtujuan: true });\n    getDataNoTimeOut(\"barang/get/by-kode-baki?kode_baki=\" + this.state.baki_asal +'&kode_dept='+this.state.jenis || \"ALL\" )\n      .then((res) => {\n        if (res.data.length === 0) {\n          this.setState({ loadingpencarian: false, bakigudangtujuan: false });\n          ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\n          localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\n          this.props.dispatch(setBarangPindahSatuBaki([]));\n          // return false\n        } else {\n          localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\n          localStorage.setItem(\n            \"data_barang_satu_baki_tmp\",\n            JSON.stringify(res.data)\n          );\n          this.props.dispatch(setBarangPindahSatuBaki(res.data));\n          this.setState({ loadingpencarian: false });\n        }\n      })\n      .catch((err) => {\n        this.setState({ bakigudangtujuan: false });\n        this.errorHandling(err);\n      });\n  }\n\n  errorHandling(err) {\n    this.setState({ loadingpencarian: false, bakigudangtujuan: false });\n    ToastNotification(\"info\", \"Data Yang Dicari Tidak Ada\");\n    localStorage.setItem(\"data_barang_satu_baki_tmp\", JSON.stringify([]));\n    this.props.dispatch(setBarangPindahSatuBaki([]));\n  }\n  batalHancur() {\n    this.setState({ isLoadingBatal: true })\n    setTimeout(() => {\n      this.props.dispatch(setBarangPindahSatuBaki([]));\n      localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify([]))\n      this.setState({ isLoadingBatal: false })\n    }, 500);\n  }\n  render() {\n    const jenis = [{\n      value : 'ALL',\n      name : 'SEMUA',\n    }];\n    this.props.datajenis.forEach(element => {\n      let row = {\n        value : element.kode_dept,\n        name : element.kode_dept,\n      }\n      jenis.push(row)\n    });\n    return (\n      <form onSubmit={this.props.handleSubmit} autoComplete=\"off\"\n      onKeyPress={(e) => {\n        e.key === \"Enter\" && e.preventDefault();\n      }}\n      >\n        <div className=\"row\">\n          <div className=\"col-lg-3\">\n            <Field\n              label=\"Gudang Asal\"\n              name=\"gudang_asal\"\n              onChange={(e) => {\n                this.setState({\n                  gudang_asal: e,\n                  bakigudangtujuan: false,\n                });\n                this.props.change(\"baki_asal\", \"\");\n                this.props.dispatch(setBarangPindahSatuBaki([]));\n                localStorage.setItem(\n                  \"data_barang_satu_baki_tmp\",\n                  JSON.stringify([])\n                );\n              }}\n              options={this.props.datagudang\n                .filter((list) => list.kode_gudang !== undefined)\n                .map((list) => {\n                  let data = {\n                    value: list.kode_gudang,\n                    name: list.kode_gudang + \" - \" + list.nama_gudang,\n                  };\n                  return data;\n                })}\n              placeholder={\"Silahkan Pilih Gudang Asal\"}\n              component={ReanderSelect}\n            />\n          </div>\n          <div className=\"col-lg-3\">\n            {this.state.isLoadingBaki === false ? (\n              <Field\n                label=\"Baki Asal\"\n                name=\"baki_asal\"\n                onChange={(e) => {\n                  this.setState({ baki_asal: e });\n                }}\n                options={this.props.databaki\n                  .filter((list) => list.kode_gudang === this.state.gudang_asal)\n                  .map((databaki) => {\n                    let data = {\n                      value: databaki.kode_baki,\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\n                    };\n                    return data || [];\n                  })}\n                placeholder={\"Silahkan Pilih Baki Asal\"}\n                component={ReanderSelect}\n              />\n            ) : (\n              <SkeletonLoading label=\"Baki Asal\" />\n            )}\n          </div>\n          <div className=\"col-lg-3\">\n              <Field\n                label=\"Jenis\"\n                name=\"jenis\"\n                onChange={(e) => {\n                  this.setState({ jenis: e });\n                }}\n                options={jenis}\n                placeholder={\"Silahkan Pilih Jenis\"}\n                component={ReanderSelect}\n              />\n          </div>\n          <div className=\"col-lg-3\">\n            <label> &nbsp; </label>\n            <button\n              className=\"btn btn-primary btn-block\"\n              disabled={this.submitting}\n              onClick={() => this.filterLaporan()}\n              type=\"button\"\n            >\n              {this.state.loadingpencarian ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\n                  Mencari Data\n                </>\n              ) : (\n                \"Cari Data\"\n              )}\n            </button>\n          </div>\n\n          {this.state.bakigudangtujuan === false ? null : (\n            <>\n              <div className=\"col-lg-6\">\n                <Field\n                  label=\"Gudang Tujuan\"\n                  name=\"gudang_tujuan\"\n                  onChange={(e) => {\n                    this.setState({ gudang_tujuan: e });\n                    this.props.change(\"baki_tujuan\", \"\");\n                  }}\n                  options={this.props.datagudang\n                    .filter((list) => list.kode_gudang !== undefined)\n                    .map((list) => {\n                      let data = {\n                        value: list.kode_gudang,\n                        name: list.kode_gudang + \" - \" + list.nama_gudang,\n                      };\n                      return data;\n                    })}\n                  placeholder={\"Silahkan Pilih Gudang Tujuan\"}\n                  component={ReanderSelect}\n                />\n              </div>\n              <div className=\"col-lg-6\">\n                {this.state.isLoadingBaki === false ? (\n                  <Field\n                    label=\"Baki Tujuan\"\n                    name=\"baki_tujuan\"\n                    options={this.props.databaki\n                      .filter(\n                        (list) => list.kode_gudang === this.state.gudang_tujuan\n                      )\n                      .map((databaki) => {\n                        let data = {\n                          value: databaki.kode_baki,\n                          name: databaki.kode_baki + \" - \" + databaki.nama_baki,\n                        };\n                        return data || [];\n                      })}\n                    placeholder={\"Silahkan Pilih Baki Tujuan\"}\n                    component={ReanderSelect}\n                  />\n                ) : (\n                  <SkeletonLoading label=\"Baki Tujuan\" />\n                )}\n              </div>\n              {/* {console.log(this.props.setBarangPindahSatuBaki)}\n            {console.log(JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")))} */}\n            </>\n          )}\n        </div>\n        <Tabel\n          keyField=\"kode_barcode\"\n          exportCsv={false}\n          data={\n            this.props.setBarangPindahSatuBaki.length === 0\n              ? JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\"))\n              : this.props.setBarangPindahSatuBaki\n          }\n          columns={this.props.columns}\n          empty={true}\n          pagination=\"off\"\n          textEmpty=\"Data Barang Kosong\"\n        />\n        <div className=\"row\">\n          <div className=\"col-10\">\n            <button\n              className=\"btn btn-primary\"\n              disabled={this.props.submitting}\n              type=\"submit\"\n            >\n              {this.props.isLoading ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\n                  Menyimpan\n                </>\n              ) : (\n                \"Simpan Data\"\n              )}\n            </button>\n            &nbsp;\n            <button\n              className=\"btn btn-warning\"\n              type=\"button\"\n              onClick={() => this.batalHancur()}\n              disabled={this.props.isLoadingBatal}\n            >\n              {this.state.isLoadingBatal ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Sedang\n                  Membatal\n                </>\n              ) : (\n                \"Batal\"\n              )}\n            </button>\n          </div>\n          {/* <div className=\"2\">\n            {JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")) ===\n            null ? null : (\n              <>\n                Total Barang :{\" \"}\n                {this.props.setBarangPindahSatuBaki.length === 0\n                  ? JSON.parse(\n                      localStorage.getItem(\"data_barang_satu_baki_tmp\")\n                    ).length || 0\n                  : this.props.setBarangPindahSatuBaki.length || 0}\n                <br />\n                Total Berat :\n                {this.props.setBarangPindahSatuBaki.length === 0\n                  ? JSON.parse(\n                      localStorage.getItem(\"data_barang_satu_baki_tmp\")\n                    )\n                      .map((column, key) => column.berat)\n                      .reduce((a, b) => a + b, 0)\n                      .toFixed(1)\n                  : this.props.setBarangPindahSatuBaki\n                      .map((column, key) => column.berat)\n                      .reduce((a, b) => a + b, 0)\n                      .toFixed(1)}\n              </>\n            )}\n          </div> */}\n        </div>\n        {this.props.isLoading ? (\n        <Loading \n        loading\n        background=\"rgba(0, 0, 0, 0.35)\"\n         loaderColor=\"rgba(94, 147, 117, 1)\" />\n      ) : null}\n      </form>\n    );\n  }\n}\n\nHeadPindahBarangSatuBaki = reduxForm({\n  form: \"HeadPindahBarangSatuBaki\",\n  enableReinitialize: true,\n  validate: ValidasiPindahBarangBaki,\n})(HeadPindahBarangSatuBaki);\nexport default connect(maptostate, null)(HeadPindahBarangSatuBaki);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\nimport { connect } from \"react-redux\";\nimport HeadPindahBarangSatuBaki from \"./HeadPindahBarangSatuBaki.jsx\";\nimport Swal from \"sweetalert2\";\nimport { setBarangPindahSatuBaki } from \"../../../actions/databarang_action.jsx\";\nimport { postDataNoTImeOut } from \"../../../config/axios.jsx\";\nimport { ToastNotification } from \"../../../components/helpers/notification.jsx\";\nimport { reset } from \"redux-form\";\n\nconst maptostate = (state) => {\n  return {\n    setBarangPindahSatuBaki: state.databarang.setBarangPindahSatuBaki,\n  };\n};\n\nclass FormPindahBarangSatuBaki extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEdit: false,\n      modalDialog: false,\n      isLoading: false,\n      columns: [\n        {\n          dataField: \"kode_barcode\",\n          text: \"Kode Barcode\",\n          footerAttrs: {\n            colSpan: \"5\",\n          },\n          footer: (cell, row, num, index) => {\n            return (\n              <div>Total Barang : {this.props.setBarangPindahSatuBaki.length === 0\n              ? JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")) === null  ? 0 : JSON.parse(localStorage.getItem(\"data_barang_satu_baki_tmp\")).length \n              : this.props.setBarangPindahSatuBaki.length} </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_group\",\n          text: \"Gudang Asal\",\n        },\n        {\n          dataField: \"kode_dept\",\n          text: \"Baki Asal\",\n        },\n        {\n          dataField: \"nama_barang\",\n          text: \"Nama Barang\",\n        },\n        {\n          dataField: \"nama_atribut\",\n          text: \"Nama Atribut\",\n        },\n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(1);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(1),\n        },\n\n      ],\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  hapusdata(id) {\n    Swal.fire({\n      title: \"Anda Yakin !!\",\n      text: \"Ingin Menghapus Data Ini ?\",\n      icon: \"warning\",\n      position: \"top-center\",\n      cancelButtonText: \"Tidak\",\n      showCancelButton: true,\n      confirmButtonText: \"OK\",\n      showConfirmButton: true,\n    }).then((result) => {\n      if (result.isConfirmed) {\n        let data = JSON.parse(localStorage.getItem('data_barang_satu_baki_tmp'));\n        data.splice(id, 1)\n        localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify(data));\n        this.props.dispatch(setBarangPindahSatuBaki(data));\n        // deleteLocalItemBarcode(\"data_barang_satu_baki_tmp\", id);\n        // this.props.dispatch(getListReturnSupplier());\n      }\n    });\n  }\n  componentDidMount() {\n    // this.props.dispatch(getDataBaki());\n    // localStorageencryp('data_barang',[])\n    localStorage.setItem('data_barang_satu_baki_tmp',\"[]\")\n      \n  }\n  handleSubmit(data) {\n    this.setState({ isLoading: true });\n    // let barang_tmp = this.props.setBarangPindahSatuBaki.length === 0 ? JSON.parse(localStorage.getItem('data_barang_satu_baki_tmp')) : this.props.setBarangPindahSatuBaki \n    let hasil = {\n      kode_gudang: data.gudang_tujuan,\n      kode_toko: data.baki_tujuan,\n      kode_gudang_asal: data.gudang_asal,\n      kode_toko_asal: data.baki_asal\n      }\n    //   console.log(hasil);\n    postDataNoTImeOut('pindahbarang/addbanyak', hasil)\n    .then(() => {\n      this.setState({ isLoading: false });\n    }).then(() => {\n      localStorage.setItem('data_barang_satu_baki_tmp', JSON.stringify([]));\n    })\n    .then(() => {\n      this.props.dispatch(setBarangPindahSatuBaki([]));\n    })\n    .then(() => {\n      this.props.dispatch(reset('HeadPindahBarangSatuBaki'))\n    })\n    .then(() => {\n      ToastNotification(\"success\", \"Data Berhasil Disimpan\");\n    }).catch((error) => this.errorhandling(error))\n  }\n  errorhandling(error) {\n    ToastNotification(\"info\", /conflict/i.test(error.response.data) ? \"Terjadi Kesalahan Saat Mengirim Data\" : error.response.data);\n    this.setState({ isLoading: false });\n  }\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Barang</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Pindah Barang Satu Baki</li>\n        </ol>\n        <h1 className=\"page-header\">Pindah Barang Satu Baki </h1>\n        <Panel>\n          <PanelHeader>Pindah Barang Satu Baki</PanelHeader>\n          <br />\n\n          {/* Pindah Barang Satu Baki */}\n          <div className=\"container\">\n            <HeadPindahBarangSatuBaki\n              isLoading={this.state.isLoading}\n              onSubmit={(data) => this.handleSubmit(data)}\n              data={this.props.setBarangPindahSatuBaki}\n              columns={this.state.columns}\n            />\n          </div>\n          <br />\n          {/* End Pindah Barang Satu Baki */}\n\n          {/* End Tambah Pindah Barang Satu Baki  */}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nexport default connect(maptostate, null)(FormPindahBarangSatuBaki);\n"],"sourceRoot":""}