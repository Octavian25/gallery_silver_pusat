{"version":3,"sources":["pages/Barang/TerimaBarang/FormTerimaBarang.jsx","pages/Barang/TerimaBarang/TerimaBarang.jsx","../node_modules/reactstrap/es/ModalFooter.js"],"names":["FormTerimaBarang","props","_this","Object","classCallCheck","this","_super","call","state","no_kirim","datagudang","databaki","loading","dispatch","getDataGudang","getDataBaki","_this2","react_default","a","createElement","Modal","backdrop","keyboard","isOpen","toggle","hideModal","ModalHeader","title","onSubmit","handleSubmit","autoComplete","onKeyPress","e","key","preventDefault","ModalBody","className","Field","label","name","options","map","list","value","_id","placeholder","component","ReanderSelect","onChange","setState","kode_gudang","change","filter","undefined","nama_gudang","react_loading_skeleton_lib_default","width","height","kode_baki","nama_baki","ModalFooter","disabled","submitting","type","isLoading","Fragment","onClick","loading_default","background","loaderColor","Component","reduxForm","form","enableReinitialize","connect","initialValues","localStorage","getItem","JSON","parse","datamaster","SearchBar","Search","TerimaBarang","isEdit","modalDialog","isLoadingBtn","DataTerimaBarang","SimpanDataBarang","resetTerimaBarang","columns","dataField","text","formatter","cell","row","num","index","footerAttrs","colSpan","footer","length","sort","toFixed","columnData","reduce","acc","item","bind","assertThisInitialized","getNokirim","setTimeout","data","_this3","data_post","kode_toko","setItem","stringify","data_edit","getData","then","res","reset","dataEdit","showModal","ShowModalTerimaBarang","_this4","postData","NotifSucces","catch","error","errorHandling","err","NotifError","_this5","react_router_dom","to","panel","react_bootstrap_table2_toolkit_lib_default","keyField","search","exportCSV","fileName","searchProps","lib_default","baseProps","terimabangOnline","TerimaBarang_FormTerimaBarang","Nokirim","React","databarang","_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_2___default","n","prop_types__WEBPACK_IMPORTED_MODULE_3__","prop_types__WEBPACK_IMPORTED_MODULE_3___default","classnames__WEBPACK_IMPORTED_MODULE_4__","classnames__WEBPACK_IMPORTED_MODULE_4___default","_utils__WEBPACK_IMPORTED_MODULE_5__","propTypes","tag","string","cssModule","object","Tag","attributes","classes","defaultProps","__webpack_exports__"],"mappings":"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","file":"static/js/40.733c22a8.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport { connect } from \"react-redux\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { Field, reduxForm } from \"redux-form\";\n// import { getNokirim } from \"../../../actions/databarang_action\";\nimport {\n  getDataBaki,\n  getDataGudang,\n  hideModal,\n} from \"../../../actions/datamaster_action\";\nimport { ReanderSelect } from \"../../../components/helpers/field\";\nimport Loading from \"react-fullscreen-loading\";\n\nconst maptostate = (state) => {\n  let data_terima_barang =\n    localStorage.getItem(\"data_terima_barang\") === null || undefined\n      ? []\n      : JSON.parse(localStorage.getItem(\"data_terima_barang\") || []);\n\n  return {\n    initialValues: {\n      no_kirim: data_terima_barang.no_kirim || \"\",\n    },\n    datagudang: state.datamaster.getDataGudang,\n    databaki: state.datamaster.getDataBaki,\n  };\n};\nclass FormTerimaBarang extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      no_kirim: [],\n      datagudang: [],\n      databaki: [],\n      loading: false,\n    };\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getDataGudang());\n    this.props.dispatch(getDataBaki());\n    // this.props.dispatch(getNokirim())\n  }\n\n  render() {\n    return (\n      <Modal\n        backdrop=\"static\"\n        keyboard={false}\n        isOpen={this.props.isOpen}\n        toggle={() => this.props.dispatch(hideModal())}\n      >\n        <ModalHeader> {this.props.title} </ModalHeader>\n        <form\n          onSubmit={this.props.handleSubmit}\n          autoComplete=\"off\"\n          onKeyPress={(e) => {\n            e.key === \"Enter\" && e.preventDefault();\n          }}\n        >\n          <ModalBody>\n            <div className=\"form-group\">\n              <Field\n                label=\"No Kirim\"\n                name=\"no_kirim\"\n                options={this.props.no_kirim.map((list) => {\n                  let data = {\n                    value: list._id.no_kirim,\n                    name: list._id.no_kirim,\n                  };\n                  return data;\n                })}\n                placeholder={\"Silahkan Pilih No Kirim\"}\n                component={ReanderSelect}\n              />\n            </div>\n            <div className=\"form-group\">\n              {this.state.datagudang !== [] ? (\n                <Field\n                  label=\"Kode Gudang\"\n                  name=\"kode_gudang\"\n                  onChange={(e) => {\n                    this.setState({ kode_gudang: e });\n                    this.props.change(\"kode_baki\", \"\");\n                  }}\n                  options={this.props.datagudang\n                    .filter((list) => list.kode_gudang !== undefined)\n                    .map((list) => {\n                      let data = {\n                        value: list.kode_gudang,\n                        name: list.kode_gudang + \" - \" + list.nama_gudang,\n                      };\n                      return data;\n                    })}\n                  placeholder={\"Silahkan Pilih Kode Gudang\"}\n                  component={ReanderSelect}\n                />\n              ) : (\n                <Skeleton width={\"100%\"} height={50} />\n              )}\n            </div>\n            <div className=\"form-group\">\n              <Field\n                label=\"Kode Baki\"\n                name=\"kode_baki\"\n                options={this.props.databaki\n                  .filter((list) => list.kode_gudang === this.state.kode_gudang)\n                  .map((databaki) => {\n                    let data = {\n                      value: databaki.kode_baki,\n                      name: databaki.kode_baki + \" - \" + databaki.nama_baki,\n                    };\n                    return data || [];\n                  })}\n                placeholder={\"Silahkan Pilih Kode Baki\"}\n                component={ReanderSelect}\n              />\n            </div>\n          </ModalBody>\n          <ModalFooter>\n            <button\n              className=\"btn btn-primary\"\n              disabled={this.props.submitting}\n              type=\"submit\"\n            >\n              {this.props.isLoading ? (\n                <>\n                  <i className=\"fas fa-spinner fa-spin\"></i> &nbsp; Cek Data\n                  Barang\n                </>\n              ) : (\n                \"Cek Data Barang\"\n              )}\n            </button>\n            <button\n              className=\"btn btn-white\"\n              onClick={() => this.props.dispatch(hideModal())}\n              type=\"button\"\n              disabled={this.props.isLoading}\n            >\n              Batal\n            </button>\n          </ModalFooter>\n          {this.props.isLoading ? (\n            <Loading\n              loading\n              background=\"rgba(0, 0, 0, 0.35)\"\n              loaderColor=\"rgba(94, 147, 117, 1)\"\n            />\n          ) : null}\n        </form>\n      </Modal>\n    );\n  }\n}\n\nFormTerimaBarang = reduxForm({\n  form: \"FormTerimaBarang\",\n  enableReinitialize: true,\n})(FormTerimaBarang);\nexport default connect(maptostate, null)(FormTerimaBarang);\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Panel, PanelHeader } from \"../../../components/panel/panel.jsx\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\nimport { hideModal, showModal } from \"../../../actions/datamaster_action.jsx\";\nimport {\n  getNokirim,\n  ShowModalTerimaBarang,\n} from \"../../../actions/databarang_action.jsx\";\n\nimport { connect } from \"react-redux\";\nimport FormTerimaBarang from \"./FormTerimaBarang.jsx\";\nimport { getData, postData } from \"../../../config/axios.jsx\";\nimport Skeleton from \"react-loading-skeleton\";\nimport {\n  NotifError,\n  NotifSucces,\n} from \"../../../components/helpers/notification.jsx\";\nimport { reset } from \"redux-form\";\n// import LoadingButton from \"../../../components/helpers/function.jsx\";\nconst { SearchBar } = Search;\nconst maptostate = (state) => {\n  return {\n    Nokirim: state.databarang.getNokirim,\n    hideModal: state.datamaster.modalDialog,\n  };\n};\n\nclass TerimaBarang extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isEdit: false,\n      modalDialog: false,\n      isLoading: false,\n      isLoadingBtn: false,\n      DataTerimaBarang: [],\n      SimpanDataBarang: false,\n      resetTerimaBarang : false,\n      columns: [\n        {\n          dataField: \"no\",\n          text: \"No \",\n          formatter: (cell, row, num, index) => {\n            this.setState({ num: 1 + num });\n            return <div> {++num} </div>;\n          },\n          footerAttrs: {\n            colSpan: \"4\",\n          },\n          footer: (cell, row, num, index) => {\n            return (\n              <div>Total Barang : {this.state.DataTerimaBarang.length} </div>\n            );\n          },\n        },\n        {\n          dataField: \"kode_barang\",\n          text: \"Kode Barang\",\n          sort: true,\n        },\n        {\n          dataField: \"kode_barcode\",\n          text: \"Kode Barcode\",\n        },\n        {\n          dataField: \"kode_intern\",\n          text: \"Kode Intern\",\n        },\n        {\n          dataField: \"berat\",\n          text: \"Berat\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n        {\n          dataField: \"nama_atribut\",\n          text: \"Nama Atribut\",\n          footer: \"\",\n        },\n        {\n          dataField: \"berat_atribut\",\n          text: \"Berat Atribut\",\n          formatter: (cell) => {\n            return cell.toFixed(3);\n          },\n          footer: (columnData) =>\n            columnData.reduce((acc, item) => acc + item, 0).toFixed(3),\n        },\n      ],\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.dispatch(getNokirim());\n  }\n  resetTerimaBarang() {\n\n    this.setState({\n      resetTerimaBarang: true,\n    });\n    setTimeout(() => {\n      this.setState({\n        DataTerimaBarang: [],\n        resetTerimaBarang: false,\n      });\n    }, 300);\n  }\n  handleSubmit(data) {\n    let data_post = {\n      no_kirim: data.no_kirim,\n      kode_gudang: data.kode_gudang,\n      kode_toko: data.kode_baki,\n    };\n    localStorage.setItem('data_terima_barang', JSON.stringify(data_post));\n    this.setState({ SimpanDataBarang: data_post });\n    this.setState({ isLoading: true });\n    let data_edit = {\n      no_kirim: data.no_kirim,\n    };\n    getData(\"kirimbarang/get/nokirim/\" + data.no_kirim, data_edit)\n      .then((res) => {\n        this.setState({\n          DataTerimaBarang: res.data,\n        });\n      })\n      .then(() => {\n        this.setState({ isLoading: false });\n      })\n      .then(() => {\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\n      })\n      .then(() => {\n        this.props.dispatch(hideModal());\n      });\n  }\n\n  formEditBaki(dataEdit) {\n    this.props.dispatch(showModal());\n    this.props.dispatch(ShowModalTerimaBarang(dataEdit));\n    this.setState({\n      isEdit: true,\n    });\n  }\n  ShowModalTerimaBarang() {\n    this.props.dispatch(showModal());\n    this.props.dispatch(ShowModalTerimaBarang(false));\n    this.setState({\n      isEdit: false,\n    });\n  }\n  terimabangOnline() {\n    this.setState({ isLoadingBtn: true });\n    postData(\"terimabarang/add\", this.state.SimpanDataBarang)\n      .then(() => {\n        this.setState({\n          DataTerimaBarang: [],\n        });\n      })\n      .then(() => {\n        this.props.dispatch(reset(\"FormTerimaBarang\"));\n        localStorage.setItem('data_terima_barang', JSON.stringify([]));\n      })\n      .then(() => {\n        this.props.dispatch(getNokirim());\n      })\n      .then(() => {\n        this.setState({ isLoadingBtn: false });\n      })\n      .then(() => {\n        NotifSucces(\"Barang Berhasil Diterima\");\n      })\n      .catch((error) => this.errorHandling(error));\n  }\n  errorHandling(err) {\n    NotifError(err);\n    this.setState({ isLoadingBtn: false });\n  }\n  render() {\n    return (\n      <div>\n        <ol className=\"breadcrumb float-xl-right\">\n          <li className=\"breadcrumb-item\">\n            <Link to=\"#\">Barang</Link>\n          </li>\n          <li className=\"breadcrumb-item active\">Terima Barang</li>\n        </ol>\n        <h1 className=\"page-header\">Terima Barang </h1>\n        <Panel>\n          <PanelHeader>Terima Barang</PanelHeader>\n          <br />\n\n          {/* Terima Barang */}\n          <div className=\"container\">\n            {this.state.isLoading === false ? (\n              <ToolkitProvider\n                keyField=\"kode_barang\"\n                data={this.state.DataTerimaBarang || []}\n                columns={this.state.columns}\n                search\n                exportCSV={{\n                  fileName: \"Export Terima Barang.csv\",\n                }}\n              >\n                {(props) => (\n                  <div className=\"row\">\n                    <div className=\"col-6\">\n                      <button\n                        onClick={() => this.ShowModalTerimaBarang()}\n                        className=\"btn btn-teal\"\n                      >\n                        {\" \"}\n                        <i className=\"fa fa-plus\"></i>{\" \"}\n                      </button>\n                    </div>\n                    <div className=\"col-6\">\n                      <div className=\"text-right\">\n                        <SearchBar {...props.searchProps} />\n                      </div>\n                    </div>\n                    <hr />\n                    <div className=\"col-12\">\n                      <BootstrapTable {...props.baseProps} />\n                      <br />\n\n                      <>\n                        <button\n                          className=\"btn btn-primary\"\n                          onClick={() => this.terimabangOnline()}\n                        >\n                          {/* {this.state.isLoadingBtn ? \"\" : \"Terima Barang\"} */}\n                          {this.state.isLoadingBtn ? (\n                            <>\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\n                              Terima Barang\n                            </>\n                          ) : (\n                            \"Terima Barang\"\n                          )}\n                        </button>\n                        &nbsp;\n                        <button\n                          className=\"btn btn-warning\"\n                          onClick={() => this.resetTerimaBarang()}\n                        >\n                          {this.state.resetTerimaBarang ? (\n                            <>\n                              <i className=\"fas fa-spinner fa-spin\"></i> &nbsp;\n                              Reset\n                            </>\n                          ) : (\n                            \"Reset\"\n                          )}\n                        </button>\n                      </>\n                    </div>\n                  </div>\n                )}\n              </ToolkitProvider>\n            ) : (\n              <Skeleton width={\"100%\"} height={200} />\n            )}\n            <FormTerimaBarang\n              no_kirim={this.props.Nokirim}\n              isLoading={this.state.isLoading}\n              isEdit={this.state.isEdit}\n              title={this.state.isEdit ? \"Terima Barang\" : \"Terima Barang\"}\n              isOpen={this.props.hideModal}\n              onSubmit={(data) => this.handleSubmit(data)}\n            />\n          </div>\n          <br />\n          {/* End Tambah Terima Barang  */}\n        </Panel>\n      </div>\n    );\n  }\n}\n\nexport default connect(maptostate, null)(TerimaBarang);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar ModalFooter = function ModalFooter(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'modal-footer'), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nModalFooter.propTypes = propTypes;\nModalFooter.defaultProps = defaultProps;\nexport default ModalFooter;"],"sourceRoot":""}