(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1194:function(a,e,t){"use strict";t.r(e);var n=t(8),o=t(9),i=t(11),r=t(10),s=t(0),d=t.n(s),c=t(30),l=t(320),u=t(321),g=t(36),p=t(7),b=t(20),m=t(24),k=t(52),f=t(18),h=t(786),_=t(62),v=t.n(_),B=function(a){Object(i.a)(t,a);var e=Object(r.a)(t);function t(a){var o;return Object(n.a)(this,t),(o=e.call(this,a)).state={date:new Date,isLoadingBatal:!1,isLoading:!1,kondisi_barang:"kosong"},o}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(p.Bb)())}},{key:"getKodeBarcode",value:function(a){var e=this;this.delay&&clearTimeout(this.delay),this.delay=setTimeout(function(){if(e.setState({isLoading:!0}),""===a)return!1;Object(f.d)("barang/open/kode-barcode?kode_barcode="+a).then(function(t){0===t.data.length?Object(m.e)("info","Data Yang Dicari Tidak Ada"):(e.setState({isLoading:!1}),"kosong"===e.state.kondisi_barang?(Object(m.e)("info","Kondisi Barang Harus Dipilih"),e.props.change("kode_barcode","")):t.data.forEach(function(t,n){var o={no_pesanan:t.no_pesanan,kode_barcode:t.kode_barcode,kode_group:t.kode_group,kode_dept:t.kode_dept,nama_barang:t.nama_barang,nama_atribut:t.nama_atribut,berat:t.berat,kondisi_barang:e.state.kondisi_barang},i=JSON.parse(localStorage.getItem("data_barang_hancur_tmp"))||[];-1===i.findIndex(function(e){return e.kode_barcode===a})&&(i.push(o),localStorage.setItem("data_barang_hancur_tmp",JSON.stringify(i)),e.props.dispatch(Object(g.v)(i)),e.props.change("kode_barcode",""))}))}).catch(function(a){e.setState({isLoading:!1}),Object(m.e)("info",a.response&&a.response.data)})},1500)}},{key:"batalHancur",value:function(){var a=this;this.setState({isLoadingBatal:!0}),setTimeout(function(){a.setState({isLoadingBatal:!1}),localStorage.setItem("data_barang_hancur_tmp",JSON.stringify([])),a.props.dispatch(Object(g.v)([]))},500)}},{key:"render",value:function(){var a=this;return d.a.createElement("form",{onSubmit:this.props.handleSubmit,autoComplete:"off",onKeyPress:function(a){"Enter"===a.key&&a.preventDefault()}},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(l.a,{label:"Kondisi Barang",name:"kondisi_barang",onChange:function(e){a.setState({kondisi_barang:e})},options:this.props.datakondisi.filter(function(a){return void 0!==a.kondisi_barang}).map(function(a){return{value:a.kondisi_barang,name:a.kondisi_barang}}),placeholder:"Silahkan Pilih Kondisi Barang",component:b.f})),d.a.createElement("div",{className:"col-lg-6"},d.a.createElement(l.a,{onChange:function(e){return a.getKodeBarcode(e.target.value)},name:"kode_barcode",component:b.e,type:"text",label:"Kode Barcode",placeholder:"Masukan Kode Barcode"}))),d.a.createElement(k.a,{keyField:"kode_barcode",pagination:"off",exportCsv:!1,data:0===this.props.setHancurBarang.length?JSON.parse(localStorage.getItem("data_barang_hancur_tmp")):this.props.setHancurBarang,columns:this.props.columns,empty:!0,textEmpty:"Data Barang Kosong"}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-10"},d.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:this.props.isLoading},this.props.isLoading?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Menyimpan"):"Simpan Data"),"\xa0",d.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:function(){return a.batalHancur()},disabled:this.props.isLoading},this.state.isLoadingBatal?d.a.createElement(d.a.Fragment,null,d.a.createElement("i",{className:"fas fa-spinner fa-spin"})," \xa0 Sedang Membatal"):"Batal"))),this.props.isLoading||this.state.isLoading?d.a.createElement(v.a,{loading:!0,background:"rgba(0, 0, 0, 0.35)",loaderColor:"rgba(94, 147, 117, 1)"}):null)}}]),t}(s.Component);B=Object(u.a)({form:"HeadaHancurDataBarang",enableReinitialize:!0,validate:h.a})(B),e.default=Object(c.b)(function(a){return{datakondisi:a.datamaster.getDataKondisiBarang,setHancurBarang:a.databarang.setHancurBarang}},null)(B)},786:function(a,e,t){"use strict";e.a=function(a){var e={};return a.kode_gudang||(e.kode_gudang="Kode Gudang Tidak Boleh Kosong"),a.kode_baki||(e.kode_baki="Nama Baki Tidak Boleh Kosong"),a.statusAktif||(e.statusAktif="Status Tidak Boleh Kosong"),e}}}]);
//# sourceMappingURL=22.5487302d.chunk.js.map